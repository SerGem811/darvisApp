{"version":3,"sources":["i18n sync /^/.//.*/.json$","shared/services/auth.js","modules/auth/contextContainer.js","shared/modules/language/context.js","shared/modules/language/index.js","shared/modules/notification/context.js","shared/modules/error/ErrorBoundary.js","shared/modules/notification/index.js","modules/auth/routes.js","modules/home/routes.js","modules/site/routes.js","modules/cameras/routes.js","modules/explore/routes.js","modules/analytics/routes.js","modules/admin/routes.js","shared/templates/notFound.js","routes.js","App.js","icons.js","serviceWorker.js","index.js","api/endpoints.js","api/errorObject.js","api/interceptors.js","api/index.js","shared/modules/logger/index.js","shared/modules/error/context.js","modules/auth/authContext.js","config.js","shared/services/role.js"],"names":["map","./en.json","./fr.json","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","authenticate","_x","_authenticate","apply","this","arguments","_callee","_ref","email","password","api","regenerator_default","a","wrap","_context","prev","next","API","abrupt","post","AUTH","then","res","error","stop","withRouter","history","children","_useState","useState","isAuthenticated","loading","_useState2","slicedToArray","state","setState","errorContext","useContext","ErrorContext","_ref2","asyncToGenerator","mark","user","callAuth","sent","localStorage","setItem","JSON","stringify","data","token","push","LOGGED_IN_HOME","t0","setError","_x2","react_default","createElement","auth_authContext","value","logout","removeItem","AUTH_PAGE","checkAuthentication","getItem","LanguageContext","React","createContext","language","switchLanguage","addLocaleData","concat","toConsumableArray","en","fr","LanguageContainer","setLanguage","_useState3","_useState4","langResource","setLangResource","useEffect","languageResource","require","index_es","locale","messages","language_context","Provider","lang","defaultNotificationContextState","notification","type","fail","message","statusCode","setNotification","show","Logger","info","Context","NotificationContextProvider","Consumer","ErrorBoundary","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","bind","assertThisInitialized","applicationError","context","objectSpread","_this$state","Component","contextType","NotificationsContext","Notification","notificationsRef","createRef","current","addNotification","level","position","NotificationSystem_default","ref","AuthRoutes","lazy","path","Promise","all","SiteRoutes","CameraRoutes","ExploreRoutes","AnalyticsRoutes","UsersRoutes","NotFound","Fragment","style","textAlign","marginTop","textShadow","fontSize","lineHeight","react_router_dom","className","to","PrivateRoute","component","roles","rest","objectWithoutProperties","authContext","AuthContext","react_router","assign","exact","render","findIndex","role","ROLES","CLIENT","isClient","GOD","isGod","ADMIN","isAdmin","renderRouteFromList","isPrivate","item","i","routes_PrivateRoute","key","Routes","react","fallback","HomeRoutes","App","modules_language","modules_notification","error_ErrorBoundary","contextContainer","src_routes","library","add","faBell","faEnvelope","faLock","faEdit","faVideo","faMapMarker","faPlusCircle","faTimes","faPen","faTrash","faCameraRetro","faPlus","faCircle","faArrowRight","faSplotch","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","ReactDOM","src_App","document","getElementById","root","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","d","__webpack_exports__","USERS","SITES","ROLE","LICENSE","ORGANIZATION","errorObject","errorResponse","errorCode","errors","length","_errorResponse$errors","title","description","errorResponseHandler","successResponseHandler","json","multipart","undefined","instance","baseURL","API_BASE_URL","x-auth-token","Content-Type","timeout","axios","create","interceptors","use","url","params","endpoint","body","delete","put","patch","INFO_STYLE","WARN_STYLE","ERROR_STYLE","generateTrace","stackTrace","stack","replace","callerName","split","callerSource","substring","trim","_generateTrace","_generateTrace2","_Users_usmantahir_Workspace_darvis_darvis_console_v2_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","LOGGING","enabled","loglevel","_len","args","Array","_key","warn","_generateTrace3","_generateTrace4","_len2","_key2","_generateTrace5","_generateTrace6","_len3","_key3","ErrorContextProvider","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_logger__WEBPACK_IMPORTED_MODULE_1__","defaultErrorContextState","AuthContextProvider","AuthContextConsumer","defaultAuthContext","ORIGIN","readRoleFromStorage","parse","getRoles","_getRoles","_Users_usmantahir_Workspace_darvis_darvis_console_v2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/main.3b6d08f3.chunk.js","sourcesContent":["var map = {\n\t\"./en.json\": 112,\n\t\"./fr.json\": 113\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 111;","import API from '../../api';\nimport { AUTH } from '../../api/endpoints';\n\nexport async function authenticate({ email, password }) {\n  const api = new API();\n  return api.post(AUTH, { email, password }).then(\n    res => res,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function findMe() {\n  const api = new API();\n  return api.get(`${AUTH}/me`).then(\n    res => res,\n    error => {\n      throw error;\n    }\n  );\n}\n","import React, { useState, useContext } from 'react';\nimport { withRouter } from 'react-router';\n\nimport { AuthContextProvider } from './authContext';\nimport { AUTH_PAGE, LOGGED_IN_HOME } from '../../config';\nimport { authenticate as callAuth } from '../../shared/services/auth';\nimport ErrorContext from '../../shared/modules/error/context';\n\nconst AuthContextContainer = ({ history, children }) => {\n  const [state, setState] = useState({\n    isAuthenticated: false,\n    loading: false,\n  });\n  const errorContext = useContext(ErrorContext);\n\n  const authenticate = async (email, password) => {\n    setState({ isAuthenticated: false, loading: true });\n    try {\n      const user = await callAuth({ email, password });\n      localStorage.setItem('user', JSON.stringify(user.data));\n      localStorage.setItem('token', user.data.token);\n      setState({ isAuthenticated: true, loading: false });\n      history.push(LOGGED_IN_HOME);\n    } catch (e) {\n      errorContext.setError(e, true);\n      setState({ isAuthenticated: false, loading: false });\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n    localStorage.removeItem('selectedSite');\n    setState({ isAuthenticated: false });\n    history.push(AUTH_PAGE);\n  };\n\n  const checkAuthentication = () => !!localStorage.getItem('user') && !!localStorage.getItem('token');\n\n  return (\n    <AuthContextProvider value={{ isAuthenticated: state.isAuthenticated, authenticate, logout, checkAuthentication }}>\n      {children}\n    </AuthContextProvider>\n  );\n};\n\nexport default withRouter(AuthContextContainer);\n","import React from 'react';\n\nconst LanguageContext = React.createContext({\n  language: 'en',\n  switchLanguage: () => {},\n});\n\nexport default LanguageContext;\n","import React, { useState, useEffect } from 'react';\nimport { IntlProvider, addLocaleData } from 'react-intl';\n\nimport en from 'react-intl/locale-data/en';\nimport fr from 'react-intl/locale-data/fr';\n\nimport LanguageContext from './context';\n\naddLocaleData([...en, ...fr]);\n\nconst LanguageContainer = ({ children }) => {\n  const [language, setLanguage] = useState('en');\n  const [langResource, setLangResource] = useState({});\n\n  useEffect(() => {\n    if (language) {\n      const languageResource = require(`../../../i18n/${language}.json`); // eslint-disable-line\n      setLangResource(languageResource);\n    }\n  }, [language]);\n\n  const switchLanguage = lang => {\n    if (lang) {\n      setLanguage(lang);\n    }\n  };\n\n  return (\n    <IntlProvider locale=\"en\" messages={langResource}>\n      <LanguageContext.Provider value={{ language, switchLanguage }}>{children}</LanguageContext.Provider>\n    </IntlProvider>\n  );\n};\n\nexport default LanguageContainer;\n","import React from 'react';\nimport Logger from '../logger';\n\nconst defaultNotificationContextState = {\n  notification: {\n    type: '',\n    fail: false,\n    message: '',\n    statusCode: '',\n  },\n  setNotification: (notification, show) => {\n    Logger.info(notification, show);\n  },\n};\n\nexport const Context = React.createContext(defaultNotificationContextState);\n\nexport const NotificationContextProvider = Context.Provider;\nexport const NotificationContextConsumer = Context.Consumer;\n\nexport default Context;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NotificationsContext from '../notification/context';\nimport { ErrorContextProvider } from './context';\nimport Logger from '../logger';\n\nclass ErrorBoundary extends React.Component {\n  static getDerivedStateFromError(error) {\n    Logger.info('Derived Error', error);\n    return { applicationError: true };\n  }\n\n  static contextType = NotificationsContext;\n\n  constructor(props) {\n    super(props);\n\n    this.setError = this.setError.bind(this);\n\n    this.state = {\n      error: {\n        fail: false,\n        message: '',\n        statusCode: '',\n      },\n      applicationError: false,\n    };\n  }\n\n  setError(error, show) {\n    if (show) {\n      const { setNotification } = this.context;\n      setNotification({ ...error, type: 'error' }, show);\n    }\n    this.setState({ error });\n  }\n\n  componentDidCatch(error, info) {\n    // You can also log the error to an error reporting service\n    Logger.info('CDC', error, info);\n  }\n\n  render() {\n    const { children } = this.props;\n    const { error, applicationError } = this.state;\n\n    if (applicationError) {\n      return <h1>Something went wrong.</h1>;\n    }\n\n    return <ErrorContextProvider value={{ error, setError: this.setError }}>{children}</ErrorContextProvider>;\n  }\n}\n\nErrorBoundary.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ErrorBoundary;\n","import React, { useState, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport NotificationSystem from 'react-notification-system';\nimport { NotificationContextProvider } from './context';\n\nconst Notification = ({ children }) => {\n  const notificationsRef = createRef();\n  const [state, setState] = useState({\n    type: 'error',\n    fail: false,\n    message: '',\n    statusCode: '',\n  });\n\n  const setNotification = (notification, show) => {\n    if (show && notificationsRef && notificationsRef.current) {\n      notificationsRef.current.addNotification({\n        level: notification.type,\n        message: (\n          <div>\n            {notification.statusCode && <b>{notification.statusCode}: </b>}\n            {notification.message}\n          </div>\n        ),\n        position: 'tc',\n      });\n    }\n    setState({ ...notification });\n  };\n\n  return (\n    <NotificationContextProvider value={{ notification: state, setNotification }}>\n      <NotificationSystem ref={notificationsRef} />\n      {children}\n    </NotificationContextProvider>\n  );\n};\n\nNotification.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Notification;\n","import { lazy } from 'react';\nimport { AUTH_PAGE } from '../../config';\n\nconst AuthRoutes = [\n  {\n    Component: lazy(() => import('./container')),\n    path: AUTH_PAGE,\n  },\n];\n\nexport default AuthRoutes;\n","import { lazy } from 'react';\n\nconst AuthRoutes = [\n  {\n    Component: lazy(() => import('./container')),\n    path: '/console/home',\n  },\n];\n\nexport default AuthRoutes;\n","import { lazy } from 'react';\n\nconst SiteRoutes = [\n  {\n    Component: lazy(() => import('./container')),\n    path: '/console/site',\n  },\n];\n\nexport default SiteRoutes;\n","import { lazy } from 'react';\n\nconst CameraRoutes = [\n  {\n    Component: lazy(() => import('./container')),\n    path: '/console/cameras',\n  },\n];\n\nexport default CameraRoutes;\n","import { lazy } from 'react';\n\nconst ExploreRoutes = [\n  {\n    Component: lazy(() => import('./container')),\n    path: '/console/explore',\n  },\n];\n\nexport default ExploreRoutes;\n","import { lazy } from 'react';\n\nconst AnalyticsRoutes = [\n  {\n    Component: lazy(() => import('./container')),\n    path: '/console/analytics',\n  },\n];\n\nexport default AnalyticsRoutes;\n","import { lazy } from 'react';\n\nconst UsersRoutes = [\n  {\n    Component: lazy(() => import('./container')),\n    path: '/console/admin/:type?',\n  },\n  // {\n  //   Component: lazy(() => import('./admin/container')),\n  //   path: '/console/admin/admin',\n  // },\n  // {\n  //   Component: lazy(() => import('./organization/container')),\n  //   path: '/console/admin/organization',\n  // },\n  // {\n  //   Component: lazy(() => import('./license/container')),\n  //   path: '/console/admin/license',\n  // },\n];\n\nexport default UsersRoutes;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst NotFound = () => (\n  <>\n    <div\n      style={{\n        textAlign: 'center',\n        marginTop: '20vh',\n        textShadow: '2px 2px 0 rgb(255, 86, 0)',\n      }}\n    >\n      <div style={{ fontSize: '11rem', lineHeight: '1' }}>404</div>\n      <div style={{ fontSize: '4rem' }}>Not Found</div>\n    </div>\n    <div\n      style={{\n        textAlign: 'center',\n        marginTop: '5rem',\n      }}\n    >\n      <NavLink className=\"btn btn-info\" style={{ fontSize: '1.5rem' }} to=\"/console/home\">\n        Console Home\n      </NavLink>\n    </div>\n  </>\n);\n\nexport default NotFound;\n","import React, { Suspense, useContext } from 'react';\nimport { Redirect, Route, Switch } from 'react-router';\n\nimport { AuthContext } from './modules/auth/authContext';\nimport AuthRoutes from './modules/auth/routes';\nimport HomeRoutes from './modules/home/routes';\nimport SiteRoutes from './modules/site/routes';\nimport CameraRoutes from './modules/cameras/routes';\nimport ExploreRoutes from './modules/explore/routes';\nimport AnalyticsRoutes from './modules/analytics/routes';\nimport UsersRoutes from './modules/admin/routes';\n\nimport NotFound from './shared/templates/notFound';\nimport { isAdmin, isClient, isGod, ROLES } from './shared/services/role';\n\nconst PrivateRoute = ({ component: Component, roles, ...rest }) => {\n  const authContext = useContext(AuthContext);\n\n  const checkPermission = () => {\n    if (roles.findIndex(role => role === ROLES.CLIENT) > -1 && isClient()) return true;\n    if (roles.findIndex(role => role === ROLES.GOD) > -1 && isGod()) return true;\n    if (roles.findIndex(role => role === ROLES.ADMIN) > -1 && isAdmin()) return true;\n    return false;\n  };\n\n  const getRedirection = () => {\n    if (isGod() || isAdmin()) {\n      return <Redirect to=\"/console/admin/users\" />;\n    }\n    return <Redirect to=\"/\" />;\n  };\n\n  return (\n    <Route\n      {...rest}\n      exact\n      render={props =>\n        authContext.checkAuthentication() && checkPermission() ? <Component {...props} /> : getRedirection()\n      }\n    />\n  );\n};\n\nconst renderRouteFromList = (isPrivate, roles) => (item, i) => {\n  const { Component } = item;\n  if (isPrivate) {\n    return <PrivateRoute exact key={i} path={item.path} component={Component} roles={roles} />;\n  }\n  return <Route exact key={i} path={item.path} component={Component} />;\n};\n\nconst Routes = () => (\n  <Suspense fallback=\"loading\">\n    <Switch>\n      {AuthRoutes.map(renderRouteFromList())}\n      {HomeRoutes.map(renderRouteFromList(true, [ROLES.CLIENT]))}\n      {SiteRoutes.map(renderRouteFromList(true, [ROLES.CLIENT]))}\n      {CameraRoutes.map(renderRouteFromList(true, [ROLES.CLIENT]))}\n      {ExploreRoutes.map(renderRouteFromList(true, [ROLES.CLIENT]))}\n      {AnalyticsRoutes.map(renderRouteFromList(true, [ROLES.CLIENT]))}\n      {UsersRoutes.map(renderRouteFromList(true, [ROLES.GOD, ROLES.ADMIN]))}\n      <Route component={NotFound} />\n    </Switch>\n  </Suspense>\n);\n\nexport default Routes;\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport AuthContextContainer from './modules/auth/contextContainer';\nimport Language from './shared/modules/language';\nimport ErrorBoundary from './shared/modules/error/ErrorBoundary';\nimport Notification from './shared/modules/notification';\n\nimport Routes from './routes';\n\nfunction App() {\n  return (\n    <Language>\n      <Notification>\n        <ErrorBoundary>\n          <BrowserRouter>\n            <AuthContextContainer>\n              <Routes />\n            </AuthContextContainer>\n          </BrowserRouter>\n        </ErrorBoundary>\n      </Notification>\n    </Language>\n  );\n}\n\nexport default App;\n","import { library } from '@fortawesome/fontawesome-svg-core';\n\nimport {\n  faBell,\n  faEnvelope,\n  faLock,\n  faEdit,\n  faVideo,\n  faMapMarker,\n  faPlusCircle,\n  faTimes,\n  faPen,\n  faTrash,\n  faCameraRetro,\n  faPlus,\n  faCircle,\n  faArrowRight,\n  faSplotch,\n} from '@fortawesome/free-solid-svg-icons';\n\nlibrary.add(\n  faBell,\n  faEnvelope,\n  faLock,\n  faEdit,\n  faVideo,\n  faMapMarker,\n  faPlusCircle,\n  faTimes,\n  faPen,\n  faTrash,\n  faCameraRetro,\n  faPlus,\n  faCircle,\n  faArrowRight,\n  faSplotch\n);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and admin)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\n/* eslint-disable */\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './index.scss';\nimport './icons';\n\nimport './assets/css/main.css';\n\nimport './styles/custom.scss';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst render = () => {\n  const root = document.getElementById('root');\n  ReactDOM.render(<App />, root);\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nrender();\nserviceWorker.register();\n\nif (module.hot) {\n  module.hot.accept('./App', () => {\n    render();\n  });\n}\n","export const AUTH = 'auth';\nexport const USERS = 'users';\nexport const SITES = 'sites';\nexport const ROLE = 'role';\nexport const LICENSE = 'license';\nexport const ORGANIZATION = 'organization';\nexport const CAMERA = 'cameras';\n","import { get } from 'lodash-es';\n\nconst errorObject = error => {\n  let errorResponse;\n  let errorCode;\n  let { message } = error;\n\n  if (error.response && error.response.data) {\n    errorResponse = error.response.data;\n    if (errorResponse.code) {\n      errorCode = errorResponse.code;\n    }\n\n    if (errorResponse.errors && errorResponse.errors.length) {\n      const { title, description } = errorResponse.errors[0];\n      message = `${title}: ${description}`;\n    }\n  }\n\n  return {\n    data: errorResponse && errorResponse.errors ? errorResponse.errors : errorResponse,\n    error,\n    fail: true,\n    message,\n    statusCode: error.code || errorCode || get(error, 'response.status'),\n  };\n};\n\nexport default errorObject;\n","import { get } from 'lodash-es';\nimport errorObject from './errorObject';\n\nexport const errorResponseHandler = error => {\n  let { message } = error;\n  if (\n    error &&\n    (get(error, 'status') === 401 || get(error, 'status') === 403 || get(error, 'response.status') === 403)\n  ) {\n    message = \"You're UnAuthorized, check login or user privileges\";\n  }\n\n  if (error && (get(error, 'status') === 404 || get(error, 'response.status') === 404)) {\n    message = 'Not Found';\n  }\n\n  if (error && (get(error, 'status') === 503 || get(error, 'response.status')) === 503) {\n    message = 'Internal Server Error';\n  }\n\n  if (error) {\n    error.message = message;\n    throw errorObject(error);\n  }\n};\n\nexport function successResponseHandler(response) {\n  return {\n    ...response,\n  };\n}\n","import axios from 'axios';\n\nimport { successResponseHandler, errorResponseHandler } from './interceptors';\nimport { API_BASE_URL } from '../config';\n\nconst contentType = {\n  json: 'application/json',\n  multipart: 'multipart/form-data',\n};\n\nexport default class API {\n  constructor(\n    config = {\n      headers: { contentType: contentType.json },\n    }\n  ) {\n    this.config = {};\n    this.instance = null;\n\n    const token = window.localStorage.getItem('token');\n    this.config = {\n      baseURL: config.baseURL || API_BASE_URL,\n      headers: {\n        'x-auth-token': token || null,\n        'Content-Type': config.headers.contentType || contentType.json,\n      },\n      timeout: 20000,\n    };\n\n    this.instance = axios.create(this.config);\n    this.instance.interceptors.response.use(successResponseHandler, errorResponseHandler);\n  }\n\n  get(url, id, params) {\n    let endpoint = url;\n    if (id) {\n      endpoint += `/${id}`;\n    }\n    return this.instance.get(endpoint, { params });\n  }\n\n  post(url, body) {\n    return this.instance.post(url, body);\n  }\n\n  delete(url, id) {\n    return this.instance.delete(`${url}/${id}`);\n  }\n\n  put(url, body, id) {\n    let endpoint = url;\n    if (id) {\n      endpoint += `/${id}`;\n    }\n    return this.instance.put(endpoint, body);\n  }\n\n  patch(url, body) {\n    return this.instance.patch(url, body);\n  }\n}\n","import { LOGGING } from '../../../config';\n\nconst INFO_STYLE = `\n  color: blue;\n  background: yellow;\n  font-weight: bold;\n  padding: 3px;\n`;\n\nconst WARN_STYLE = `\n  color: red;\n  background: beige;\n  font-weight: bold;\n  border: 1px solid red;\n  padding: 3px;\n`;\n\nconst ERROR_STYLE = `\n  color: white;\n  background: red;\n  font-weight: bold;\n  padding: 3px;\n`;\n\nfunction generateTrace() {\n  const stackTrace = new Error().stack.replace(/^Error\\s+/, ''); // Only tested in latest FF and Chrome\n\n  let callerName = stackTrace.split('\\n')[2]; // 1st item is this, 2nd item is caller\n  let callerSource = stackTrace.split('\\n')[3]; // 1st item is this, 2nd item is caller\n\n  if (callerSource) {\n    callerSource = callerSource.replace(/ http.*$/, '');\n  }\n  if (callerName) {\n    callerName = callerName.replace(/ http.*$/, '');\n  }\n\n  callerName = callerName\n    ? callerName\n        .replace(/ \\(.+\\)$/, '')\n        .substring(6)\n        .trim()\n    : '';\n  callerSource = callerSource\n    ? callerSource\n        .replace(/ \\(.+\\)$/, '')\n        .substring(6)\n        .trim()\n    : '';\n\n  return [callerName, callerSource];\n}\n\nconst Logger = {\n  info(message, ...args) {\n    const [callerName, callerSource] = generateTrace();\n\n    if (\n      LOGGING.enabled &&\n      (LOGGING.loglevel === 'error' || LOGGING.loglevel === 'warn' || LOGGING.loglevel === 'info')\n    ) {\n      if (args && args.length) {\n        // eslint-disable-next-line no-console\n        console.info(`%c[INFO] ${callerSource}/${callerName}`, INFO_STYLE, message, args);\n      } else {\n        // eslint-disable-next-line no-console\n        console.info(`%c[INFO] ${callerSource}/${callerName}`, INFO_STYLE, message);\n      }\n    }\n  },\n\n  warn(message, ...args) {\n    const [callerName, callerSource] = generateTrace();\n    if (LOGGING.enabled && (LOGGING.loglevel === 'error' || LOGGING.loglevel === 'warn')) {\n      if (args && args.length) {\n        // eslint-disable-next-line no-console\n        console.info(`%c[WARN] ${callerSource}/${callerName}`, WARN_STYLE, message, args);\n      } else {\n        // eslint-disable-next-line no-console\n        console.info(`%c[WARN] ${callerSource}/${callerName}`, WARN_STYLE, message);\n      }\n    }\n  },\n\n  error(message, ...args) {\n    const [callerName, callerSource] = generateTrace();\n    if (LOGGING.enabled && LOGGING.loglevel === 'error') {\n      if (args && args.length) {\n        // eslint-disable-next-line no-console\n        console.info(`%c[ERROR] ${callerSource}/${callerName}`, ERROR_STYLE, message, args);\n      } else {\n        // eslint-disable-next-line no-console\n        console.info(`%c[ERROR] ${callerSource}/${callerName}`, ERROR_STYLE, message);\n      }\n    }\n  },\n};\n\nexport default Logger;\n","import React from 'react';\nimport Logger from '../logger';\n\nconst defaultErrorContextState = {\n  error: {\n    fail: false,\n    message: '',\n    statusCode: '',\n  },\n  setError: (error, show) => {\n    Logger.info(error, show);\n  },\n};\n\nconst ErrorContext = React.createContext(defaultErrorContextState);\n\nexport const ErrorContextProvider = ErrorContext.Provider;\nexport const ErrorContextConsumer = ErrorContext.Consumer;\n\nexport default ErrorContext;\n","import React from 'react';\n\nconst defaultAuthContext = {\n  authenticate: (token, user) => {\n    console.log(token, user);\n  },\n  checkAuthentication: () => true,\n  isAuthenticated: false,\n  logout: () => {},\n};\n\nexport const AuthContext = React.createContext(defaultAuthContext);\nexport const AuthContextProvider = AuthContext.Provider;\nexport const AuthContextConsumer = AuthContext.Consumer;\n","// export const ORIGIN = 'http://localhost:8000';\nexport const ORIGIN = `${window.location.origin}`;\n// export const ORIGIN = 'https://darvis-admin-api.herokuapp.com'\n\nexport const API_BASE_URL = `${ORIGIN}/api`;\n\nexport const LOGGING = {\n  enabled: true,\n  loglevel: 'error', // 1) error, 2) warn, 3) info\n};\n\nexport const LOGGED_IN_HOME = '/console/home';\nexport const AUTH_PAGE = '/';\nexport const APPLICATION_HOME = '/console/home';\n","import API from '../../api';\nimport { ROLE } from '../../api/endpoints';\n\nexport const ROLES = {\n  CLIENT: 'client',\n  ADMIN: 'admin',\n  GOD: 'god',\n};\n\nexport function readRoleFromStorage() {\n  let user = localStorage.getItem('user') || {};\n  if (user) {\n    user = JSON.parse(user);\n  }\n  const role = user.role || {};\n\n  return role.key;\n}\n\nexport const isClient = () => readRoleFromStorage() === ROLES.CLIENT;\nexport const isAdmin = () => readRoleFromStorage() === ROLES.ADMIN;\nexport const isGod = () => readRoleFromStorage() === ROLES.GOD;\n\nexport async function getRoles() {\n  const api = new API();\n  return api.get(ROLE).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function getRole(id) {\n  const api = new API();\n  return api.get(ROLE, id).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function addRole(course) {\n  const api = new API();\n  return api.post(ROLE, course).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function updateRole(course, id) {\n  const api = new API();\n  return api.put(`${ROLE}/${id}`, course).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function deleteRole(id) {\n  const api = new API();\n  return api.delete(ROLE, id).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n"],"sourceRoot":""}