{"version":3,"sources":["shared/modules/sitesContext/context.js","shared/modules/confirmationModal/context.js","shared/services/sites.js","shared/molecules/navBar/index.js","shared/modules/sitesContext/index.js","shared/modules/confirmationModal/container.js","shared/templates/dashboardTemplate.js","shared/molecules/cameraPreview/styles.module.scss","shared/molecules/addCamera/styles.module.scss","shared/molecules/cameraPreview/index.js","shared/molecules/addCamera/index.js","modules/cameras/addEdit.js","modules/cameras/service.js","modules/cameras/homographyPoints.js","modules/cameras/container.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","SitesContext","n","React","createContext","sites","selectedSite","selectSite","ConfirmationContext","confirmationModal","visible","item","callback","setConfirmationModal","getSites","_getSites","apply","this","arguments","_callee","api","_Users_usmantahir_Workspace_darvis_darvis_console_v2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","API","abrupt","get","SITES","then","res","data","error","stop","getSite","_x","_getSite","_callee2","id","_context2","addSite","_x2","_addSite","_callee3","site","_context3","post","addLevel","_x3","_x4","_addLevel","_callee4","siteId","level","formData","_context4","headers","contentType","FormData","append","plan","name","image","concat","deleteLevelFromSite","_x5","_x6","_deleteLevelFromSite","_callee5","levelId","_context5","delete","addCameraToSite","_x7","_x8","_x9","_x10","_x11","_addCameraToSite","_callee6","camera","cameraPoints","floorPlanPoints","_context6","updateCameraToSite","_x12","_x13","_x14","_x15","_x16","_updateCameraToSite","_callee7","_context7","put","deleteCameraFromLevel","_x17","_x18","_x19","_deleteCameraFromLevel","_callee8","cameraId","_context8","updateSite","_x20","_x21","_updateSite","_callee9","_context9","deleteSite","_x22","_deleteSite","_callee10","_context10","Navigation","_React$useState","useState","_React$useState2","Object","slicedToArray","collapsed","setCollapsed","user","localStorage","getItem","JSON","parse","role","react_default","createElement","className","Navbar","color","expand","NavbarBrand","href","src","alt","NavbarToggler","onClick","Collapse","isOpen","navbar","context","Consumer","props","Fragment","Nav","isClient","NavItem","react_router_dom","to","activeClassName","isGod","isAdmin","renderMainNav","Alert","style","marginBottom","padding","Badge","authContext","_ref","logout","Button","outline","size","type","withRouter","history","children","errorContext","useContext","ErrorContext","storageSite","_useState","reset","loading","_useState2","state","setState","useEffect","_loadSite","asyncToGenerator","regenerator_default","mark","s","objectSpread","_id","sent","setItem","stringify","t0","setError","loadSite","push","Provider","value","reloadSites","defaultConfirmationValue","undefined","ConfirmationModalContainer","confirmationModal_context","resetConfirmationModal","setLoader","Modal","maxWidth","toggle","ModalBody","ModalFooter","Spinner","match","container","navBar","path","includes","sitesContext","module","exports","cameraCard","activeIcon","cameraCardBody","cameraCardFooter","icon","editButton","CameraPreview","deleteCamera","styles","index_es","isActive","_ref2","paddingLeft","defaultProps","AddCamera","cameraSchema","Yup","shape","min","max","required","url","username","password","CameraPlaceholder","styled","div","_templateObject","AddEditCamera","_ref$initialValues","initialValues","modalState","setModalState","isLoading","setIsLoading","formik_esm","validationSchema","onSubmit","values","actions","setSubmitting","axios","length","isValid","isDirty","errors","handleSubmit","handleChange","isSubmitting","Form","Row","Col","md","FormGroup","Label","for","Input","invalid","tag","Field","onChange","component","errorMessage","FormFeedback","disabled","step","pointStyles","position","width","height","background","border","fontSize","fontWeight","cursor","display","HomographyPoints","addCamera","updateCamera","setLoading","_useState3","activePoint","p1","x","y","p2","p3","p4","_useState4","cameraImagePoints","setCameraImagePoints","_useState5","_useState6","floorPlanImagePoints","setFloorPlanImagePoints","addXPoint","e","rect","target","getBoundingClientRect","Math","round","clientX","left","clientY","top","addPlanPoint","sitesContext_context","dataObjects","structure","selectedLevel","levelDetails","find","l","react","tabIndex","onMouseDown","onKeyDown","ORIGIN","CameraSetup","newModalState","dashboardTemplate","setSelectedSite","reloadLevel","_addCamera","cb","_updateCamera","_deleteCamera","errorCallback","levels","dataSources","map","key","marginTop","cameras","cameraPreview","molecules_addCamera","ModalHeader","addEdit","homographyPoints"],"mappings":"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","file":"static/js/10.034d7f88.chunk.js","sourcesContent":["import React from 'react';\n\nconst SitesContext = React.createContext({\n  sites: [],\n  selectedSite: {},\n  selectSite: () => {},\n});\n\nexport default SitesContext;\n","import React from 'react';\n\nconst ConfirmationContext = React.createContext({\n  confirmationModal: {\n    visible: false,\n    item: '',\n    callback: () => {},\n  },\n  setConfirmationModal: () => {},\n});\n\nexport default ConfirmationContext;\n","import API from '../../api';\nimport { SITES } from '../../api/endpoints';\n\nexport async function getSites() {\n  const api = new API();\n  return api.get(SITES).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function getSite(id) {\n  const api = new API();\n  return api.get(SITES, id).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function addSite(site) {\n  const api = new API();\n  return api.post(SITES, site).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function addLevel(siteId, level) {\n  const api = new API({\n    headers: { contentType: 'multipart/form-data' },\n  });\n\n  const formData = new FormData();\n\n  formData.append('plan', level.plan);\n  formData.append('name', level.name);\n  formData.append('image', level.image);\n\n  return api.post(`${SITES}/${siteId}/addLevel`, formData).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function deleteLevelFromSite(siteId, levelId) {\n  const api = new API();\n  return api.delete(`${SITES}/${siteId}/addLevel`, levelId).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function addCameraToSite(siteId, camera, level, cameraPoints, floorPlanPoints) {\n  const api = new API();\n  return api\n    .post(`${SITES}/${siteId}/addCamera`, {\n      siteId,\n      camera,\n      level,\n      cameraPoints,\n      floorPlanPoints,\n    })\n    .then(\n      res => res.data,\n      error => {\n        throw error;\n      }\n    );\n}\n\nexport async function updateCameraToSite(siteId, camera, level, cameraPoints, floorPlanPoints) {\n  const api = new API();\n  return api\n    .put(`${SITES}/${siteId}/addCamera`, {\n      siteId,\n      camera,\n      level,\n      cameraPoints,\n      floorPlanPoints,\n    })\n    .then(\n      res => res.data,\n      error => {\n        throw error;\n      }\n    );\n}\n\nexport async function deleteCameraFromLevel(siteId, cameraId, levelId) {\n  const api = new API();\n  return api.delete(`${SITES}/${siteId}/addCamera/${cameraId}`, levelId).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function updateSite(site, id) {\n  const api = new API();\n  return api.put(`${SITES}/${id}`, site).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function deleteSite(id) {\n  const api = new API();\n  return api.delete(SITES, id).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n","import React from 'react';\nimport { Alert, Button, Badge, Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem } from 'reactstrap';\nimport { NavLink } from 'react-router-dom';\n\nimport { AuthContextConsumer } from '../../../modules/auth/authContext';\n\nimport './styles.scss';\nimport { isAdmin, isClient, isGod } from '../../services/role';\nimport SitesContext from '../../modules/sitesContext/context';\n\nconst Navigation = () => {\n  const [collapsed, setCollapsed] = React.useState(false);\n  let user = localStorage.getItem('user') || {};\n  if (user) {\n    user = JSON.parse(user);\n  }\n  const role = user.role || {};\n\n  function renderMainNav(selectedSite) {\n    return (\n      <Nav className=\"mr-auto\" navbar>\n        {isClient() && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/home\" activeClassName=\"link-active\">\n              Site\n            </NavLink>\n          </NavItem>\n        )}\n        {isClient() && selectedSite && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/site\" activeClassName=\"link-active\">\n              {selectedSite.name}\n            </NavLink>\n          </NavItem>\n        )}\n        {isClient() && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/cameras\" activeClassName=\"link-active\">\n              Cameras\n            </NavLink>\n          </NavItem>\n        )}\n        {isClient() && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/explore\" activeClassName=\"link-active\">\n              Explore\n            </NavLink>\n          </NavItem>\n        )}\n        {isClient() && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/analytics\" activeClassName=\"link-active\">\n              Analytics\n            </NavLink>\n          </NavItem>\n        )}\n        {(isGod() || isAdmin()) && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/admin/users\" activeClassName=\"link-active\">\n              Admin\n            </NavLink>\n          </NavItem>\n        )}\n      </Nav>\n    );\n  }\n\n  function renderEmptyNav() {\n    if (isClient()) {\n      return (\n        <Nav className=\"mr-auto\" navbar>\n          <Alert color=\"info\" style={{ marginBottom: '0', padding: '0.45rem 1.25rem 0.3rem' }}>\n            Select a site to move ahead\n          </Alert>\n        </Nav>\n      );\n    }\n\n    return null;\n  }\n\n  return (\n    <div className=\"dar-navbar\">\n      <Navbar className=\"container\" color=\"faded\" expand=\"md\">\n        <NavbarBrand href=\"/\" className=\"mr-auto\">\n          <img className=\"dar-navbar__logo\" src=\"/images/logo-full.png\" alt=\"Darvis\" />\n        </NavbarBrand>\n        <NavbarToggler onClick={() => setCollapsed(!collapsed)} />\n        <Collapse isOpen={collapsed} navbar>\n          <SitesContext.Consumer>\n            {props => {\n              const { selectedSite } = props;\n              return <React.Fragment>{selectedSite ? renderMainNav(selectedSite) : renderEmptyNav()}</React.Fragment>;\n            }}\n          </SitesContext.Consumer>\n\n          <span className=\"info\">\n            Hi &nbsp;\n            <b>\n              {user.name}\n              &nbsp;\n            </b>\n            <Badge style={{ padding: '5px 4px 4px 4px' }} color=\"dark\">\n              {role.name}\n            </Badge>\n          </span>\n          <AuthContextConsumer>\n            {({ logout }) => (\n              <Button outline size=\"sm\" color=\"dark\" type=\"submit\" onClick={() => logout()}>\n                logout\n              </Button>\n            )}\n          </AuthContextConsumer>\n        </Collapse>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default Navigation;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { withRouter } from 'react-router';\n\nimport { getSite } from '../../services/sites';\nimport SitesContext from './context';\nimport ErrorContext from '../error/context';\n\nconst SitesContextContainer = ({ history, children }) => {\n  const errorContext = useContext(ErrorContext);\n  const storageSite = JSON.parse(localStorage.getItem('selectedSite'));\n  const [state, setState] = useState({\n    selectedSite: storageSite,\n    reset: 0,\n    loading: false,\n  });\n\n  useEffect(() => {\n    async function loadSite() {\n      try {\n        setState(s => ({ ...s, loading: true }));\n        const site = await getSite(state.selectedSite._id);\n        setState(s => ({ ...s, selectedSite: site, loading: false }));\n        localStorage.setItem('selectedSite', JSON.stringify(site));\n      } catch (e) {\n        setState(s => ({ ...s, loading: false }));\n        errorContext.setError(e, true);\n      }\n    }\n\n    if (!state.selectedSite) {\n      history.push('/console/home');\n    } else {\n      loadSite();\n    }\n  }, [history, state.reset, errorContext, setState]);\n\n  function reloadSites() {\n    setState({\n      ...state,\n      reset: state.reset + 1,\n    });\n  }\n\n  return (\n    <SitesContext.Provider\n      value={{\n        loading: state.loading,\n        selectedSite: state.selectedSite,\n        selectSite: site => {\n          setState({\n            selectSite: site,\n          });\n          localStorage.setItem('selectedSite', JSON.stringify(site));\n          history.push('/console/site');\n        },\n        reloadSites,\n      }}\n    >\n      {children}\n    </SitesContext.Provider>\n  );\n};\n\nexport default withRouter(SitesContextContainer);\n","import React, { useState } from 'react';\n\nimport { Modal, ModalBody, ModalFooter, Button, Spinner } from 'reactstrap';\n\nimport ConfirmationContext from './context';\n\nconst defaultConfirmationValue = {\n  visible: false,\n  item: undefined,\n  loading: false,\n  callback: () => {},\n};\n\nconst ConfirmationModalContainer = ({ children }) => {\n  const [confirmationModal, setConfirmationModal] = useState(defaultConfirmationValue);\n\n  return (\n    <React.Fragment>\n      <ConfirmationContext.Provider\n        value={{\n          confirmationModal,\n          setConfirmationModal,\n          resetConfirmationModal: () => setConfirmationModal(defaultConfirmationValue),\n          setLoader: loading =>\n            setConfirmationModal({\n              ...confirmationModal,\n              loading,\n            }),\n        }}\n      >\n        {children}\n      </ConfirmationContext.Provider>\n      <Modal\n        style={{ maxWidth: '250px' }}\n        isOpen={confirmationModal.visible}\n        toggle={() => setConfirmationModal({ ...confirmationModal, visible: !confirmationModal.visible })}\n      >\n        <ModalBody>\n          This will delete <b>{`${confirmationModal.item}, `}</b> Are you sure you want to?\n        </ModalBody>\n        <ModalFooter>\n          {confirmationModal.loading ? (\n            <Spinner />\n          ) : (\n            <React.Fragment>\n              <Button color=\"light\" onClick={() => setConfirmationModal(defaultConfirmationValue)}>\n                No\n              </Button>{' '}\n              <Button color=\"danger\" onClick={() => confirmationModal.callback()}>\n                Yes, Delete!!\n              </Button>\n            </React.Fragment>\n          )}\n        </ModalFooter>\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nexport default ConfirmationModalContainer;\n","import React from 'react';\nimport { withRouter } from 'react-router';\n\nimport Navbar from '../molecules/navBar';\nimport SiteContextContainer from '../modules/sitesContext';\nimport ConfirmationModalContainer from '../modules/confirmationModal/container';\n\nconst DashboardTemplate = ({ match, children }) => {\n  function wrapSiteContext(callback) {\n    if (match.path.includes('admin')) {\n      return callback();\n    }\n    return <SiteContextContainer>{callback()}</SiteContextContainer>;\n  }\n  return (\n    <ConfirmationModalContainer>\n      {wrapSiteContext(() => (\n        <React.Fragment>\n          <Navbar />\n          <div className=\"container camera-system\" style={{ marginBottom: '30px' }}>\n            {children}\n          </div>\n        </React.Fragment>\n      ))}\n    </ConfirmationModalContainer>\n  );\n};\n\nexport default withRouter(DashboardTemplate);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cameraCard\":\"styles_cameraCard__XB7TF\",\"activeIcon\":\"styles_activeIcon__31312\",\"cameraCardBody\":\"styles_cameraCardBody__3yoh3\",\"cameraCardFooter\":\"styles_cameraCardFooter__3vpEl\",\"icon\":\"styles_icon__17zk3\",\"editButton\":\"styles_editButton__23tHQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cameraCard\":\"styles_cameraCard__Hz5c8\",\"cameraCardBody\":\"styles_cameraCardBody__18XH9\",\"cameraCardFooter\":\"styles_cameraCardFooter__37_H9\",\"icon\":\"styles_icon__3JujY\"};","import React from 'react';\nimport { Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport ConfirmationContext from '../../modules/confirmationModal/context';\n\nimport styles from './styles.module.scss';\n\nconst CameraPreview = ({ camera, level, onClick, deleteCamera }) => {\n  return (\n    <div className={styles.cameraCard}>\n      <FontAwesomeIcon\n        icon=\"circle\"\n        style={{ color: camera.isActive ? '#0bde0b' : 'red' }}\n        className={styles.activeIcon}\n      />\n      <div className={styles.cameraCardBody}>\n        <FontAwesomeIcon icon=\"video\" className={styles.icon} />\n      </div>\n      <div className={styles.cameraCardFooter}>\n        <span>{camera.name}</span>\n        <Button onClick={onClick} color=\"default\" className={styles.editButton}>\n          <FontAwesomeIcon icon=\"pen\" />\n        </Button>\n        <ConfirmationContext.Consumer>\n          {({ setConfirmationModal, resetConfirmationModal, setLoader }) => (\n            <Button\n              onClick={() => {\n                setConfirmationModal(s => ({\n                  ...s,\n                  visible: true,\n                  item: camera.name,\n                  callback: () => {\n                    setLoader(true);\n                    deleteCamera(camera.id, level.levelId, () => resetConfirmationModal(), () => setLoader(false));\n                  },\n                }));\n              }}\n              color=\"default\"\n              className={styles.editButton}\n              style={{ paddingLeft: 0, color: '#f35656' }}\n            >\n              <FontAwesomeIcon icon=\"trash\" />\n            </Button>\n          )}\n        </ConfirmationContext.Consumer>\n        {\n          // {!!camera.type && <img src={`/images/${camera.type}-icon.png`} alt={camera.type} />}\n        }\n      </div>\n    </div>\n  );\n};\n\nCameraPreview.defaultProps = {\n  camera: {},\n};\n\nexport default CameraPreview;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Button } from 'reactstrap';\n\nimport styles from './styles.module.scss';\n\nconst AddCamera = ({ onClick }) => {\n  return (\n    <div className={styles.cameraCard}>\n      <div className={styles.cameraCardBody}>\n        <Button color=\"default\" onClick={onClick}>\n          <FontAwesomeIcon className={styles.icon} size=\"3x\" icon=\"plus\" />\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nAddCamera.defaultProps = {\n  onClick: () => {},\n};\n\nexport default AddCamera;\n","import React from 'react';\nimport { Formik, Field, ErrorMessage } from 'formik';\nimport {\n  Row,\n  Col,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Button,\n  ModalFooter,\n  ModalBody,\n  FormFeedback,\n  Spinner,\n} from 'reactstrap';\nimport * as Yup from 'yup';\nimport styled from 'styled-components';\n\nimport { connectCamera } from './service';\n\nconst cameraSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(3, 'Min 3 Characters!!')\n    .max(15, 'Max 15 allowed')\n    .required('Name Required'),\n  url: Yup.string().required('Camera URL Required'),\n  username: Yup.string().required('Username Required'),\n  password: Yup.string().required('Password Required'),\n});\n\nconst CameraPlaceholder = styled.div`\n  display: block;\n  width: 100%;\n  height: 285px;\n  background: grey;\n  padding: 33% 23%;\n  font-size: 25px;\n`;\n\nconst AddEditCamera = ({ initialValues = {}, modalState, setModalState }) => {\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  return (\n    <Formik\n      initialValues={{\n        name: initialValues.name || '',\n        type: initialValues.type || 'hd',\n        url: initialValues.url || '',\n        username: initialValues.username || '',\n        password: initialValues.password || '',\n      }}\n      validationSchema={cameraSchema}\n      onSubmit={async (values, actions) => {\n        const callback = () => {\n          actions.setSubmitting(false);\n          setIsLoading(false);\n        };\n\n        setIsLoading(true);\n        const image = await connectCamera(values);\n        if (image && image.data && image.data.length > 1000) {\n          values.image = image.data;\n          modalState.camera = values;\n          setModalState({\n            ...modalState,\n            error: undefined,\n            camera: modalState.camera,\n          });\n        } else {\n          setModalState({\n            ...modalState,\n            error: image.data,\n          });\n        }\n        callback();\n      }}\n    >\n      {props => {\n        const { values, isValid, isDirty, errors, handleSubmit, handleChange, isSubmitting } = props;\n        return (\n          <Form onSubmit={handleSubmit}>\n            <ModalBody>\n              <Row>\n                <Col md={6}>\n                  <FormGroup>\n                    <Label for=\"name\">Name</Label>\n                    <Input\n                      invalid={!!errors.name}\n                      id=\"name\"\n                      tag={Field}\n                      name=\"name\"\n                      onChange={handleChange}\n                      value={values.name}\n                    />\n                    <ErrorMessage name=\"name\" component=\"div\">\n                      {errorMessage => <FormFeedback>{errorMessage}</FormFeedback>}\n                    </ErrorMessage>\n                  </FormGroup>\n\n                  <FormGroup>\n                    <Label for=\"url\">URL</Label>\n                    <Input\n                      invalid={!!errors.url}\n                      id=\"url\"\n                      tag={Field}\n                      name=\"url\"\n                      onChange={handleChange}\n                      value={values.url}\n                    />\n                    <ErrorMessage name=\"url\" component=\"div\">\n                      {errorMessage => <FormFeedback>{errorMessage}</FormFeedback>}\n                    </ErrorMessage>\n                  </FormGroup>\n\n                  <FormGroup>\n                    <Label for=\"username\">Username</Label>\n                    <Input\n                      invalid={!!errors.username}\n                      id=\"username\"\n                      tag={Field}\n                      name=\"username\"\n                      onChange={handleChange}\n                      value={values.username}\n                    />\n                    <ErrorMessage name=\"username\" component=\"div\">\n                      {errorMessage => <FormFeedback>{errorMessage}</FormFeedback>}\n                    </ErrorMessage>\n                  </FormGroup>\n\n                  <FormGroup>\n                    <Label for=\"password\">Password</Label>\n                    <Input\n                      invalid={!!errors.password}\n                      id=\"password\"\n                      tag={Field}\n                      name=\"password\"\n                      onChange={handleChange}\n                      value={values.password}\n                    />\n                    <ErrorMessage name=\"password\" component=\"div\">\n                      {errorMessage => <FormFeedback>{errorMessage}</FormFeedback>}\n                    </ErrorMessage>\n                  </FormGroup>\n                </Col>\n                <Col>\n                  {!modalState.error && modalState.camera && modalState.camera.image ? (\n                    <img\n                      style={{\n                        maxWidth: '385px',\n                      }}\n                      src={`data:image/png;base64, ${modalState.camera.image}`}\n                      alt=\"preview\"\n                    />\n                  ) : (\n                    <CameraPlaceholder>Camera Preview</CameraPlaceholder>\n                  )}\n                </Col>\n              </Row>\n              {modalState.error && (\n                <Row>\n                  <Col>\n                    <div style={{ color: 'red' }}>{modalState.error}</div>\n                  </Col>\n                </Row>\n              )}\n            </ModalBody>\n            <ModalFooter>\n              {isLoading ? (\n                <Spinner />\n              ) : (\n                <React.Fragment>\n                  <Button type=\"submit\" color=\"primary\" size=\"sm\" disabled={isSubmitting || !isValid || !!isDirty}>\n                    {initialValues._id ? 'Update' : 'Connect'} Camera\n                  </Button>\n                  {!modalState.error && modalState.camera && modalState.camera.image && (\n                    <Button\n                      color=\"primary\"\n                      size=\"sm\"\n                      onClick={() =>\n                        setModalState({\n                          ...modalState,\n                          camera: {\n                            ...modalState.camera,\n                            ...values,\n                          },\n                          step: 1,\n                        })\n                      }\n                    >\n                      Next\n                    </Button>\n                  )}\n                </React.Fragment>\n              )}\n            </ModalFooter>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default AddEditCamera;\n","import axios from 'axios';\n\nexport const connectCamera = camera => {\n  return axios.post('http://127.0.0.1:8888/api/getSingleFrame', {\n    url: camera.url,\n    username: camera.username,\n    password: camera.password,\n  });\n};\n\nexport const fetcHomography = () => {\n  return new Promise(resolve => {\n    resolve('123');\n  });\n};\n","import React, { Fragment, useState } from 'react';\nimport { Button, ModalBody, ModalFooter, Row, Col, Spinner } from 'reactstrap';\n\nimport { ORIGIN } from '../../config';\nimport SitesContext from '../../shared/modules/sitesContext/context';\n\nconst pointStyles = {\n  position: 'absolute',\n  width: '21px',\n  height: '20px',\n  background: '#000000',\n  border: '1px solid',\n  fontSize: '12px',\n  color: 'white',\n  fontWeight: '600',\n  padding: '0px 6px',\n  cursor: 'pointer',\n  display: 'none',\n};\n\nfunction HomographyPoints({ modalState, addCamera, updateCamera, toggle }) {\n  const initialValues = modalState.camera;\n  const [loading, setLoading] = useState(false);\n  const [cameraImagePoints, setCameraImagePoints] = useState({\n    activePoint: 1,\n    values:\n      initialValues && initialValues.cameraPoints\n        ? initialValues.cameraPoints\n        : {\n            p1: { x: 0, y: 0 },\n            p2: { x: 0, y: 0 },\n            p3: { x: 0, y: 0 },\n            p4: { x: 0, y: 0 },\n          },\n  });\n\n  const [floorPlanImagePoints, setFloorPlanImagePoints] = useState({\n    activePoint: 1,\n    values:\n      initialValues && initialValues.floorPlanPoints\n        ? initialValues.floorPlanPoints\n        : {\n            p1: { x: 0, y: 0 },\n            p2: { x: 0, y: 0 },\n            p3: { x: 0, y: 0 },\n            p4: { x: 0, y: 0 },\n          },\n  });\n\n  function addXPoint(e) {\n    const rect = e.target.getBoundingClientRect();\n    const x = Math.round(e.clientX - rect.left);\n    const y = Math.round(e.clientY - rect.top);\n\n    if (cameraImagePoints.activePoint === 1) {\n      cameraImagePoints.values.p1 = { x, y };\n    }\n    if (cameraImagePoints.activePoint === 2) {\n      cameraImagePoints.values.p2 = { x, y };\n    }\n    if (cameraImagePoints.activePoint === 3) {\n      cameraImagePoints.values.p3 = { x, y };\n    }\n    if (cameraImagePoints.activePoint === 4) {\n      cameraImagePoints.values.p4 = { x, y };\n    }\n\n    cameraImagePoints.activePoint += 1;\n    setCameraImagePoints({\n      ...cameraImagePoints,\n    });\n  }\n\n  function addPlanPoint(e) {\n    const rect = e.target.getBoundingClientRect();\n    const x = Math.round(e.clientX - rect.left);\n    const y = Math.round(e.clientY - rect.top);\n\n    if (floorPlanImagePoints.activePoint === 1) {\n      floorPlanImagePoints.values.p1 = { x, y };\n    }\n    if (floorPlanImagePoints.activePoint === 2) {\n      floorPlanImagePoints.values.p2 = { x, y };\n    }\n    if (floorPlanImagePoints.activePoint === 3) {\n      floorPlanImagePoints.values.p3 = { x, y };\n    }\n    if (floorPlanImagePoints.activePoint === 4) {\n      floorPlanImagePoints.values.p4 = { x, y };\n    }\n    floorPlanImagePoints.activePoint += 1;\n    setFloorPlanImagePoints({\n      ...floorPlanImagePoints,\n    });\n  }\n\n  return (\n    <SitesContext.Consumer>\n      {props => {\n        const {\n          selectedSite: {\n            structure: { dataObjects },\n          },\n        } = props;\n        if (modalState && modalState.level) {\n          const allLevels = dataObjects[0] ? dataObjects[0].levelDetails : [];\n          const selectedLevel = allLevels.find(l => l.id === modalState.level.levelId);\n\n          return (\n            <Fragment>\n              <ModalBody>\n                <Row style={{ marginBottom: '10px' }}>\n                  <Col md=\"6\">\n                    <h4>Camera Preview</h4>\n                  </Col>\n                  <Col md=\"6\">\n                    <h4>Floor Plan</h4>\n                  </Col>\n                </Row>\n                <Row>\n                  <Col md=\"6\">\n                    <Row>\n                      <Col>\n                        <b>P1x:</b> {cameraImagePoints.values.p1.x}\n                      </Col>\n                      <Col>\n                        <b>P1y:</b> {cameraImagePoints.values.p1.y}\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <b>P2x:</b> {cameraImagePoints.values.p2.x}\n                      </Col>\n                      <Col>\n                        <b>P2y:</b> {cameraImagePoints.values.p2.y}\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <b>P3x:</b> {cameraImagePoints.values.p3.x}\n                      </Col>\n                      <Col>\n                        <b>P3y:</b> {cameraImagePoints.values.p3.y}\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <b>P4x:</b> {cameraImagePoints.values.p4.x}\n                      </Col>\n                      <Col>\n                        <b>P4y:</b> {cameraImagePoints.values.p4.y}\n                      </Col>\n                    </Row>\n                  </Col>\n                  <Col md=\"6\">\n                    <Row>\n                      <Col>\n                        <b>P1x:</b> {floorPlanImagePoints.values.p1.x}\n                      </Col>\n                      <Col>\n                        <b>P1y:</b> {floorPlanImagePoints.values.p1.y}\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <b>P2x:</b> {floorPlanImagePoints.values.p2.x}\n                      </Col>\n                      <Col>\n                        <b>P2y:</b> {floorPlanImagePoints.values.p2.y}\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <b>P3x:</b> {floorPlanImagePoints.values.p3.x}\n                      </Col>\n                      <Col>\n                        <b>P3y:</b> {floorPlanImagePoints.values.p3.y}\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <b>P4x:</b> {floorPlanImagePoints.values.p4.x}\n                      </Col>\n                      <Col>\n                        <b>P4y:</b> {floorPlanImagePoints.values.p4.y}\n                      </Col>\n                    </Row>\n                  </Col>\n                </Row>\n                <hr />\n                <Row>\n                  <Col md=\"6\">\n                    {modalState && modalState.camera && modalState.camera.image && (\n                      <div\n                        role=\"button\"\n                        tabIndex={0}\n                        style={{ position: 'relative', width: '410px' }}\n                        onMouseDown={addXPoint}\n                      >\n                        <img\n                          style={{\n                            maxWidth: '410px',\n                          }}\n                          src={`data:image/png;base64, ${modalState.camera.image}`}\n                          alt=\"camera-preview\"\n                        />\n                        <span\n                          role=\"button\"\n                          tabIndex={0}\n                          style={{\n                            ...pointStyles,\n                            left: cameraImagePoints.values.p1.x,\n                            top: cameraImagePoints.values.p1.y,\n                            display: cameraImagePoints.values.p1.x && cameraImagePoints.values.p1.y ? 'block' : 'none',\n                            background: cameraImagePoints.activePoint === 1 ? 'blue' : 'black',\n                          }}\n                          onClick={() => {\n                            setCameraImagePoints({\n                              ...cameraImagePoints,\n                              activePoint: 1,\n                            });\n                          }}\n                          onKeyDown={() => {}}\n                        >\n                          1\n                        </span>\n                        <span\n                          role=\"button\"\n                          tabIndex={0}\n                          style={{\n                            ...pointStyles,\n                            left: cameraImagePoints.values.p2.x,\n                            top: cameraImagePoints.values.p2.y,\n                            display: cameraImagePoints.values.p2.x && cameraImagePoints.values.p2.y ? 'block' : 'none',\n                            background: cameraImagePoints.activePoint === 2 ? 'blue' : 'black',\n                          }}\n                          onClick={() => {\n                            setCameraImagePoints({\n                              ...cameraImagePoints,\n                              activePoint: 2,\n                            });\n                          }}\n                          onKeyDown={() => {}}\n                        >\n                          2\n                        </span>\n                        <span\n                          role=\"button\"\n                          tabIndex={0}\n                          style={{\n                            ...pointStyles,\n                            left: cameraImagePoints.values.p3.x,\n                            top: cameraImagePoints.values.p3.y,\n                            display: cameraImagePoints.values.p3.x && cameraImagePoints.values.p3.y ? 'block' : 'none',\n                            background: cameraImagePoints.activePoint === 3 ? 'blue' : 'black',\n                          }}\n                          onClick={() => {\n                            setCameraImagePoints({\n                              ...cameraImagePoints,\n                              activePoint: 3,\n                            });\n                          }}\n                          onKeyDown={() => {}}\n                        >\n                          3\n                        </span>\n                        <span\n                          role=\"button\"\n                          tabIndex={0}\n                          style={{\n                            ...pointStyles,\n                            left: cameraImagePoints.values.p4.x,\n                            top: cameraImagePoints.values.p4.y,\n                            display: cameraImagePoints.values.p4.x && cameraImagePoints.values.p4.y ? 'block' : 'none',\n                            background: cameraImagePoints.activePoint === 4 ? 'blue' : 'black',\n                          }}\n                          onClick={() => {\n                            setCameraImagePoints({\n                              ...cameraImagePoints,\n                              activePoint: 4,\n                            });\n                          }}\n                          onKeyDown={() => {}}\n                        >\n                          4\n                        </span>\n                      </div>\n                    )}\n                  </Col>\n                  <Col md=\"6\">\n                    <div\n                      role=\"button\"\n                      tabIndex={0}\n                      style={{ position: 'relative', width: '410px' }}\n                      onMouseDown={addPlanPoint}\n                    >\n                      <img\n                        style={{\n                          maxWidth: '400px',\n                        }}\n                        src={ORIGIN + selectedLevel.plan}\n                        alt=\"floor-plan\"\n                      />\n                      <span\n                        role=\"button\"\n                        tabIndex={0}\n                        style={{\n                          ...pointStyles,\n                          left: floorPlanImagePoints.values.p1.x,\n                          top: floorPlanImagePoints.values.p1.y,\n                          display:\n                            floorPlanImagePoints.values.p1.x && floorPlanImagePoints.values.p1.y ? 'block' : 'none',\n                          background: floorPlanImagePoints.activePoint === 1 ? 'blue' : 'black',\n                        }}\n                        onClick={() => {\n                          setFloorPlanImagePoints({\n                            ...floorPlanImagePoints,\n                            activePoint: 1,\n                          });\n                        }}\n                        onKeyDown={() => {}}\n                      >\n                        1\n                      </span>\n                      <span\n                        role=\"button\"\n                        tabIndex={0}\n                        style={{\n                          ...pointStyles,\n                          left: floorPlanImagePoints.values.p2.x,\n                          top: floorPlanImagePoints.values.p2.y,\n                          display:\n                            floorPlanImagePoints.values.p2.x && floorPlanImagePoints.values.p2.y ? 'block' : 'none',\n                          background: floorPlanImagePoints.activePoint === 2 ? 'blue' : 'black',\n                        }}\n                        onClick={() => {\n                          setFloorPlanImagePoints({\n                            ...floorPlanImagePoints,\n                            activePoint: 2,\n                          });\n                        }}\n                        onKeyDown={() => {}}\n                      >\n                        2\n                      </span>\n                      <span\n                        role=\"button\"\n                        tabIndex={0}\n                        style={{\n                          ...pointStyles,\n                          left: floorPlanImagePoints.values.p3.x,\n                          top: floorPlanImagePoints.values.p3.y,\n                          display:\n                            floorPlanImagePoints.values.p3.x && floorPlanImagePoints.values.p3.y ? 'block' : 'none',\n                          background: floorPlanImagePoints.activePoint === 3 ? 'blue' : 'black',\n                        }}\n                        onClick={() => {\n                          setFloorPlanImagePoints({\n                            ...floorPlanImagePoints,\n                            activePoint: 3,\n                          });\n                        }}\n                        onKeyDown={() => {}}\n                      >\n                        3\n                      </span>\n                      <span\n                        role=\"button\"\n                        tabIndex={0}\n                        style={{\n                          ...pointStyles,\n                          left: floorPlanImagePoints.values.p4.x,\n                          top: floorPlanImagePoints.values.p4.y,\n                          display:\n                            floorPlanImagePoints.values.p4.x && floorPlanImagePoints.values.p4.y ? 'block' : 'none',\n                          background: floorPlanImagePoints.activePoint === 4 ? 'blue' : 'black',\n                        }}\n                        onClick={() => {\n                          setFloorPlanImagePoints({\n                            ...floorPlanImagePoints,\n                            activePoint: 4,\n                          });\n                        }}\n                        onKeyDown={() => {}}\n                      >\n                        4\n                      </span>\n                    </div>\n                  </Col>\n                </Row>\n              </ModalBody>\n              <ModalFooter>\n                {loading ? (\n                  <Spinner />\n                ) : (\n                  <Button\n                    color=\"primary\"\n                    size=\"sm\"\n                    onClick={() => {\n                      setLoading(true);\n                      if (\n                        initialValues &&\n                        initialValues.id &&\n                        initialValues.floorPlanPoints &&\n                        initialValues.cameraPoints\n                      ) {\n                        updateCamera(\n                          modalState.camera,\n                          modalState.level,\n                          cameraImagePoints.values,\n                          floorPlanImagePoints.values,\n                          () => {\n                            setLoading(false);\n                            toggle();\n                          }\n                        );\n                      } else {\n                        addCamera(\n                          modalState.camera,\n                          modalState.level,\n                          cameraImagePoints.values,\n                          floorPlanImagePoints.values,\n                          () => {\n                            setLoading(false);\n                            toggle();\n                          }\n                        );\n                      }\n                    }}\n                  >\n                    {initialValues && initialValues.id && initialValues.floorPlanPoints && initialValues.cameraPoints\n                      ? 'Update Camera'\n                      : 'Add Camera'}\n                  </Button>\n                )}\n              </ModalFooter>\n            </Fragment>\n          );\n        }\n\n        return null;\n      }}\n    </SitesContext.Consumer>\n  );\n}\n\nexport default HomographyPoints;\n","import React, { useState, useContext } from 'react';\nimport { Row, Col, Modal, ModalHeader } from 'reactstrap';\n\nimport DashboardTemplate from '../../shared/templates/dashboardTemplate';\nimport CameraPreview from '../../shared/molecules/cameraPreview';\nimport AddCamera from '../../shared/molecules/addCamera';\nimport SitesContext from '../../shared/modules/sitesContext/context';\nimport AddEditCamera from './addEdit';\nimport HomographyPoints from './homographyPoints';\nimport ErrorContext from '../../shared/modules/error/context';\nimport { addCameraToSite, updateCameraToSite, deleteCameraFromLevel } from '../../shared/services/sites';\n\nconst CameraSetup = () => {\n  const [modalState, setModalState] = useState({\n    camera: undefined,\n    level: undefined,\n    loading: false,\n    visible: false,\n    step: 0,\n  });\n  const errorContext = useContext(ErrorContext);\n\n  function toggle(level, camera, step) {\n    const newModalState = {\n      ...modalState,\n      camera,\n      level: !modalState.visible ? level : undefined,\n      visible: !modalState.visible,\n    };\n    if (step === 0 || step === 1) {\n      newModalState.step = step;\n    } else {\n      newModalState.step = 0;\n    }\n    setModalState(newModalState);\n  }\n\n  function getHeading() {\n    if (modalState.step === 0) {\n      return (\n        <ModalHeader toggle={toggle}>{modalState.camera && modalState.camera.url ? 'Edit' : 'Add'} Camera</ModalHeader>\n      );\n    }\n\n    if (modalState.step === 1) {\n      if (modalState.camera && modalState.camera.cameraPoints && modalState.camera.floorPlanPoints) {\n        return <ModalHeader toggle={toggle}>Edit Draw Points</ModalHeader>;\n      }\n      return <ModalHeader toggle={toggle}>Draw Points</ModalHeader>;\n    }\n\n    return <ModalHeader toggle={toggle}>Camera Connection</ModalHeader>;\n  }\n\n  return (\n    <DashboardTemplate>\n      <SitesContext.Consumer>\n        {props => {\n          const { selectedSite, setSelectedSite, reloadLevel } = props;\n          const {\n            structure: { dataSources },\n          } = selectedSite;\n\n          async function addCamera(camera, level, cameraPoints, floorPlanPoints, cb) {\n            try {\n              const site = await addCameraToSite(selectedSite._id, camera, level, cameraPoints, floorPlanPoints);\n              setSelectedSite(site);\n              toggle();\n              cb();\n            } catch (e) {\n              cb();\n              errorContext.setError(e, true);\n            }\n          }\n\n          async function updateCamera(camera, level, cameraPoints, floorPlanPoints, cb) {\n            try {\n              const site = await updateCameraToSite(selectedSite._id, camera, level, cameraPoints, floorPlanPoints);\n              setSelectedSite(site);\n              toggle();\n              cb();\n            } catch (e) {\n              cb();\n              errorContext.setError(e, true);\n            }\n          }\n\n          async function deleteCamera(cameraId, levelId, callback, errorCallback) {\n            try {\n              await deleteCameraFromLevel(selectedSite._id, cameraId, levelId);\n              if (callback) {\n                callback();\n              }\n              reloadLevel();\n            } catch (e) {\n              if (errorCallback) {\n                errorCallback(e);\n              }\n              errorContext.setError(e, true);\n            }\n          }\n\n          const { levels } = dataSources[0];\n\n          return (\n            <React.Fragment>\n              {levels.map(level => (\n                <React.Fragment key={level.levelId}>\n                  <Row style={{ marginTop: '10px' }}>\n                    <Col md=\"12\">\n                      <h3>{level.name}</h3>\n                    </Col>\n                  </Row>\n                  <Row style={{ marginTop: '10px' }}>\n                    {level.cameras &&\n                      !!level.cameras.length &&\n                      level.cameras.map(camera => (\n                        <Col md=\"2\" key={camera.name + camera.username + camera.type}>\n                          <CameraPreview\n                            camera={camera}\n                            level={level}\n                            onClick={() => {\n                              setModalState();\n                              toggle(level, camera, 0);\n                            }}\n                            deleteCamera={deleteCamera}\n                          />\n                        </Col>\n                      ))}\n                    <Col md=\"2\">\n                      <AddCamera onClick={() => toggle(level)} />\n                    </Col>\n                  </Row>\n                </React.Fragment>\n              ))}\n              <Modal isOpen={modalState.visible} toggle={toggle} style={{ maxWidth: '850px' }}>\n                {getHeading()}\n                {modalState.step === 0 && (\n                  <AddEditCamera\n                    setModalState={setModalState}\n                    modalState={modalState}\n                    initialValues={modalState.camera}\n                  />\n                )}\n                {modalState.step === 1 && (\n                  <HomographyPoints\n                    initialValues={modalState.camera}\n                    setModalState={setModalState}\n                    modalState={modalState}\n                    addCamera={addCamera}\n                    updateCamera={updateCamera}\n                    toggle={toggle}\n                  />\n                )}\n              </Modal>\n            </React.Fragment>\n          );\n        }}\n      </SitesContext.Consumer>\n    </DashboardTemplate>\n  );\n};\n\nexport default CameraSetup;\n"],"sourceRoot":""}