(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{131:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext({sites:[],selectedSite:{},selectSite:function(){}});t.a=r},133:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext({confirmationModal:{visible:!1,item:"",callback:function(){}},setConfirmationModal:function(){}});t.a=r},134:function(e,t,a){"use strict";a.d(t,"h",function(){return s}),a.d(t,"g",function(){return u}),a.d(t,"c",function(){return d}),a.d(t,"b",function(){return p}),a.d(t,"e",function(){return v}),a.d(t,"a",function(){return h}),a.d(t,"i",function(){return y}),a.d(t,"d",function(){return N}),a.d(t,"j",function(){return w}),a.d(t,"f",function(){return k});var n=a(1),r=a.n(n),c=a(10),l=a(15),o=a(14);function s(){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new l.a,e.abrupt("return",t.get(o.e).then(function(e){return e.data},function(e){throw e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new l.a,e.abrupt("return",a.get(o.e,t).then(function(e){return e.data},function(e){throw e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new l.a,e.abrupt("return",a.post(o.e,t).then(function(e){return e.data},function(e){throw e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e,t){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(r.a.mark(function e(t,a){var n,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.a({headers:{contentType:"multipart/form-data"}}),(c=new FormData).append("plan",a.plan),c.append("name",a.name),c.append("image",a.image),e.abrupt("return",n.post("".concat(o.e,"/").concat(t,"/addLevel"),c).then(function(e){return e.data},function(e){throw e}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e,t){return E.apply(this,arguments)}function E(){return(E=Object(c.a)(r.a.mark(function e(t,a){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.a,e.abrupt("return",n.delete("".concat(o.e,"/").concat(t,"/addLevel"),a).then(function(e){return e.data},function(e){throw e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e,t,a,n,r){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(r.a.mark(function e(t,a,n,c,s){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new l.a,e.abrupt("return",i.post("".concat(o.e,"/").concat(t,"/addCamera"),{siteId:t,camera:a,level:n,cameraPoints:c,floorPlanPoints:s}).then(function(e){return e.data},function(e){throw e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e,t,a,n,r){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(r.a.mark(function e(t,a,n,c,s){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new l.a,e.abrupt("return",i.put("".concat(o.e,"/").concat(t,"/addCamera"),{siteId:t,camera:a,level:n,cameraPoints:c,floorPlanPoints:s}).then(function(e){return e.data},function(e){throw e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e,t,a){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark(function e(t,a,n){var c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=new l.a,e.abrupt("return",c.delete("".concat(o.e,"/").concat(t,"/addCamera/").concat(a),n).then(function(e){return e.data},function(e){throw e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e,t){return _.apply(this,arguments)}function _(){return(_=Object(c.a)(r.a.mark(function e(t,a){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.a,e.abrupt("return",n.put("".concat(o.e,"/").concat(a),t).then(function(e){return e.data},function(e){throw e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return S.apply(this,arguments)}function S(){return(S=Object(c.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new l.a,e.abrupt("return",a.delete(o.e,t).then(function(e){return e.data},function(e){throw e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}},135:function(e,t,a){"use strict";var n=a(38),r=a(0),c=a.n(r),l=a(160),o=a(161),s=a(162),i=a(128),u=a.n(i),m=a(142),d=a.n(m),f=function(e){var t=e.children,a=e.dark,r=e.className,i=e.bodyClass,m=e.actionHandler,f=e.header,p=Object(n.a)(e,["children","dark","className","bodyClass","actionHandler","header"]);return c.a.createElement(l.a,Object.assign({className:u()(d.a.card,r,a&&d.a.dark)},p),f&&c.a.createElement(o.a,{className:d.a.cardHeader},f,m),c.a.createElement(s.a,{className:i},t))};f.defaultProps={dark:!1,header:void 0,actionHandler:void 0},t.a=f},136:function(e,t,a){},137:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(5),l=a(9),o=a(395),s=a(396),i=a(397),u=a(398),m=a(399),d=a(400),f=a(401),p=a(402),b=a(403),v=a(27),E=a(28),h=(a(136),a(6)),g=a(131),y=function(){var e=r.a.useState(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=localStorage.getItem("user")||{};c&&(c=JSON.parse(c));var y=c.role||{};return r.a.createElement("div",{className:"dar-navbar"},r.a.createElement(u.a,{className:"container",color:"faded",expand:"md"},r.a.createElement(m.a,{href:"/",className:"mr-auto"},r.a.createElement("img",{className:"dar-navbar__logo",src:"/images/logo-full.png",alt:"Darvis"})),r.a.createElement(d.a,{onClick:function(){return n(!a)}}),r.a.createElement(f.a,{isOpen:a,navbar:!0},r.a.createElement(g.a.Consumer,null,function(e){var t=e.selectedSite;return r.a.createElement(r.a.Fragment,null,t?function(e){return r.a.createElement(o.a,{className:"mr-auto",navbar:!0},Object(h.d)()&&r.a.createElement(s.a,{className:"dar-navbar__item"},r.a.createElement(v.c,{to:"/console/home",activeClassName:"link-active"},"Site")),Object(h.d)()&&e&&r.a.createElement(s.a,{className:"dar-navbar__item"},r.a.createElement(v.c,{to:"/console/site",activeClassName:"link-active"},e.name)),Object(h.d)()&&r.a.createElement(s.a,{className:"dar-navbar__item"},r.a.createElement(v.c,{to:"/console/cameras",activeClassName:"link-active"},"Cameras")),Object(h.d)()&&r.a.createElement(s.a,{className:"dar-navbar__item"},r.a.createElement(v.c,{to:"/console/explore",activeClassName:"link-active"},"Explore")),Object(h.d)()&&r.a.createElement(s.a,{className:"dar-navbar__item"},r.a.createElement(v.c,{to:"/console/analytics",activeClassName:"link-active"},"Analytics")),(Object(h.e)()||Object(h.c)())&&r.a.createElement(s.a,{className:"dar-navbar__item"},r.a.createElement(v.c,{to:"/console/admin/users",activeClassName:"link-active"},"Admin")))}(t):Object(h.d)()?r.a.createElement(o.a,{className:"mr-auto",navbar:!0},r.a.createElement(i.a,{color:"info",style:{marginBottom:"0",padding:"0.45rem 1.25rem 0.3rem"}},"Select a site to move ahead")):null)}),r.a.createElement("span",{className:"info"},"Hi \xa0",r.a.createElement("b",null,c.name,"\xa0"),r.a.createElement(p.a,{style:{padding:"5px 4px 4px 4px"},color:"dark"},y.name)),r.a.createElement(E.b,null,function(e){var t=e.logout;return r.a.createElement(b.a,{outline:!0,size:"sm",color:"dark",type:"submit",onClick:function(){return t()}},"logout")}))))},O=a(1),N=a.n(O),j=a(20),w=a(10),_=a(134),k=a(26),S=Object(c.f)(function(e){var t=e.history,a=e.children,c=Object(n.useContext)(k.b),o=JSON.parse(localStorage.getItem("selectedSite")),s=Object(n.useState)({selectedSite:o,reset:0,loading:!1}),i=Object(l.a)(s,2),u=i[0],m=i[1];return Object(n.useEffect)(function(){function e(){return(e=Object(w.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(function(e){return Object(j.a)({},e,{loading:!0})}),e.next=4,Object(_.g)(u.selectedSite._id);case 4:t=e.sent,m(function(e){return Object(j.a)({},e,{selectedSite:t,loading:!1})}),localStorage.setItem("selectedSite",JSON.stringify(t)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m(function(e){return Object(j.a)({},e,{loading:!1})}),c.setError(e.t0,!0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}u.selectedSite?function(){e.apply(this,arguments)}():t.push("/console/home")},[t,u.reset,c,m]),r.a.createElement(g.a.Provider,{value:{loading:u.loading,selectedSite:u.selectedSite,selectSite:function(e){m({selectSite:e}),localStorage.setItem("selectedSite",JSON.stringify(e)),t.push("/console/site")},reloadSites:function(){m(Object(j.a)({},u,{reset:u.reset+1}))}}},a)}),x=a(422),C=a(404),M=a(405),P=a(406),F=a(133),R={visible:!1,item:void 0,loading:!1,callback:function(){}},H=function(e){var t=e.children,a=Object(n.useState)(R),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Provider,{value:{confirmationModal:o,setConfirmationModal:s,resetConfirmationModal:function(){return s(R)},setLoader:function(e){return s(Object(j.a)({},o,{loading:e}))}}},t),r.a.createElement(x.a,{style:{maxWidth:"250px"},isOpen:o.visible,toggle:function(){return s(Object(j.a)({},o,{visible:!o.visible}))}},r.a.createElement(C.a,null,"This will delete ",r.a.createElement("b",null,"".concat(o.item,", "))," Are you sure you want to?"),r.a.createElement(M.a,null,o.loading?r.a.createElement(P.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{color:"light",onClick:function(){return s(R)}},"No")," ",r.a.createElement(b.a,{color:"danger",onClick:function(){return o.callback()}},"Yes, Delete!!")))))};t.a=Object(c.f)(function(e){var t,a=e.match,n=e.children;return r.a.createElement(H,null,(t=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement("div",{className:"container camera-system",style:{marginBottom:"30px"}},n))},a.path.includes("admin")?t():r.a.createElement(S,null,t())))})},142:function(e,t,a){e.exports={card:"styles_card__29RG3",dark:"styles_dark__3DC7d","online-status":"styles_online-status__R070A",cardHeader:"styles_cardHeader__10E2K"}},160:function(e,t,a){"use strict";var n=a(2),r=a(16),c=a(0),l=a.n(c),o=a(4),s=a.n(o),i=a(128),u=a.n(i),m=a(129),d={tag:m.l,inverse:s.a.bool,color:s.a.string,body:s.a.bool,outline:s.a.bool,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,a=e.cssModule,c=e.color,o=e.body,s=e.inverse,i=e.outline,d=e.tag,f=e.innerRef,p=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(m.h)(u()(t,"card",!!s&&"text-white",!!o&&"card-body",!!c&&(i?"border":"bg")+"-"+c),a);return l.a.createElement(d,Object(n.a)({},p,{className:b,ref:f}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},161:function(e,t,a){"use strict";var n=a(2),r=a(16),c=a(0),l=a.n(c),o=a(4),s=a.n(o),i=a(128),u=a.n(i),m=a(129),d={tag:m.l,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,a=e.cssModule,c=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),s=Object(m.h)(u()(t,"card-header"),a);return l.a.createElement(c,Object(n.a)({},o,{className:s}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},162:function(e,t,a){"use strict";var n=a(2),r=a(16),c=a(0),l=a.n(c),o=a(4),s=a.n(o),i=a(128),u=a.n(i),m=a(129),d={tag:m.l,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,a=e.cssModule,c=e.innerRef,o=e.tag,s=Object(r.a)(e,["className","cssModule","innerRef","tag"]),i=Object(m.h)(u()(t,"card-body"),a);return l.a.createElement(o,Object(n.a)({},s,{className:i,ref:c}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},193:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(135);a(194);t.a=function(e){var t=e.children;return r.a.createElement(c.a,{dark:!0},r.a.createElement("header",null,t.header,r.a.createElement("span",{className:"online-status"},"\u2022")),r.a.createElement("section",{className:"grey-card"},r.a.createElement("table",{className:"table table-dark grey-card__table color--lightgrey"},r.a.createElement("thead",null,t.thead),r.a.createElement("tbody",{className:"grey-card__cell"},t.tbody))))}},194:function(e,t,a){},414:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(407),l=a(408),o=a(137),s=a(135),i=a(193);t.default=function(){return r.a.createElement(o.a,null,r.a.createElement(c.a,null,r.a.createElement(l.a,{md:"9"},r.a.createElement(c.a,null,r.a.createElement(l.a,null,r.a.createElement(s.a,null,"Berlin Fairground",r.a.createElement("img",{className:"img-fluid",src:"/images/berlin_map_ground.png",alt:"fairground-map"}))))),r.a.createElement(l.a,{md:"3"},r.a.createElement(i.a,{online:!0},{header:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Site:")," Messe-Berlin"),thead:r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Uptime")),tbody:r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{className:"grey-card__cell--1"},"AI"),r.a.createElement("td",{className:"color--green"},"OK"),r.a.createElement("td",null,"88%")),r.a.createElement("tr",null,r.a.createElement("td",{className:"grey-card__cell--1"},"DE"),r.a.createElement("td",{className:"color--green"},"OK"),r.a.createElement("td",null,"98%")),r.a.createElement("tr",null,r.a.createElement("td",{className:"grey-card__cell--1"},"Cams"),r.a.createElement("td",{className:"color--green"},"58"),r.a.createElement("td",null,"65%")),r.a.createElement("tr",null,r.a.createElement("td",{className:"grey-card__cell--1"},"License"),r.a.createElement("td",{className:"color--green"},"valid"),r.a.createElement("td",null)))}))))}}}]);
//# sourceMappingURL=7.fbbfc5e2.chunk.js.map