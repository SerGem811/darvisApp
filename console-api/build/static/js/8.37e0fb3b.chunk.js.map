{"version":3,"sources":["shared/modules/sitesContext/context.js","shared/modules/confirmationModal/context.js","shared/services/sites.js","shared/molecules/card/index.js","shared/molecules/navBar/index.js","shared/modules/sitesContext/index.js","shared/modules/confirmationModal/container.js","shared/templates/dashboardTemplate.js","shared/molecules/card/styles.module.scss","../node_modules/reactstrap/es/Card.js","../node_modules/reactstrap/es/CardHeader.js","../node_modules/reactstrap/es/CardBody.js","../node_modules/reactstrap/es/Table.js","modules/home/sitesPage.js","modules/home/addEdit.js","modules/home/container.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","SitesContext","n","React","createContext","sites","selectedSite","selectSite","ConfirmationContext","confirmationModal","visible","item","callback","setConfirmationModal","getSites","_getSites","apply","this","arguments","_callee","api","_Users_usmantahir_Workspace_darvis_darvis_console_v2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","API","abrupt","get","SITES","then","res","data","error","stop","getSite","_x","_getSite","_callee2","id","_context2","addSite","_x2","_addSite","_callee3","site","_context3","post","addLevel","_x3","_x4","_addLevel","_callee4","siteId","level","formData","_context4","headers","contentType","FormData","append","plan","name","image","concat","deleteLevelFromSite","_x5","_x6","_deleteLevelFromSite","_callee5","levelId","_context5","delete","addCameraToSite","_x7","_x8","_x9","_x10","_x11","_addCameraToSite","_callee6","camera","cameraPoints","floorPlanPoints","_context6","updateCameraToSite","_x12","_x13","_x14","_x15","_x16","_updateCameraToSite","_callee7","_context7","put","deleteCameraFromLevel","_x17","_x18","_x19","_deleteCameraFromLevel","_callee8","cameraId","_context8","updateSite","_x20","_x21","_updateSite","_callee9","_context9","deleteSite","_x22","_deleteSite","_callee10","_context10","Card","_ref","children","dark","className","bodyClass","actionHandler","header","rest","Object","_Users_usmantahir_Workspace_darvis_darvis_console_v2_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","reactstrap__WEBPACK_IMPORTED_MODULE_2__","assign","cn","styles","card","reactstrap__WEBPACK_IMPORTED_MODULE_3__","cardHeader","reactstrap__WEBPACK_IMPORTED_MODULE_4__","defaultProps","undefined","Navigation","_React$useState","useState","_React$useState2","slicedToArray","collapsed","setCollapsed","user","localStorage","getItem","JSON","parse","role","react_default","Navbar","color","expand","NavbarBrand","href","src","alt","NavbarToggler","onClick","Collapse","isOpen","navbar","context","Consumer","props","Fragment","Nav","isClient","NavItem","react_router_dom","to","activeClassName","isGod","isAdmin","renderMainNav","Alert","style","marginBottom","padding","Badge","authContext","logout","Button","outline","size","type","withRouter","history","errorContext","useContext","ErrorContext","storageSite","_useState","reset","loading","_useState2","state","setState","useEffect","_loadSite","asyncToGenerator","regenerator_default","mark","s","objectSpread","_id","sent","setItem","stringify","t0","setError","loadSite","push","Provider","value","reloadSites","defaultConfirmationValue","ConfirmationModalContainer","confirmationModal_context","resetConfirmationModal","setLoader","Modal","maxWidth","toggle","ModalBody","ModalFooter","Spinner","match","container","navBar","path","includes","sitesContext","module","exports","online-status","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","propTypes","tag","inverse","bool","string","body","cssModule","object","innerRef","oneOfType","func","Tag","attributes","classes","ref","__webpack_exports__","CardHeader","CardBody","bordered","borderless","striped","hover","responsive","responsiveTag","Table","ResponsiveTag","table","responsiveClassName","SitesPage","editAction","siteContext","length","map","i","isSelected","key","scope","email","organization","created","Date","toDateString","index_es","icon","_ref2","disabled","siteValidationSchema","Yup","min","max","required","siteSchema","shape","AddEditSite","initialValues","isLoading","setIsLoading","initializeForm","formik_esm","validationSchema","onSubmit","values","actions","setSubmitting","isValid","isDirty","errors","handleSubmit","handleChange","handleBlur","isSubmitting","Form","Row","Col","FormGroup","Label","for","Input","invalid","Field","onChange","onBlur","component","errorMessage","FormFeedback","license","Logger","info","Home","_useState3","_useState4","modalState","setModalState","_useState5","_useState6","reload","setReload","_fetchAllSites","fetchAllSites","add","errorCallback","update","remove","_ref3","toggleModal","dashboardTemplate","sitesPage","ModalHeader","addEdit"],"mappings":"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","file":"static/js/8.37e0fb3b.chunk.js","sourcesContent":["import React from 'react';\n\nconst SitesContext = React.createContext({\n  sites: [],\n  selectedSite: {},\n  selectSite: () => {},\n});\n\nexport default SitesContext;\n","import React from 'react';\n\nconst ConfirmationContext = React.createContext({\n  confirmationModal: {\n    visible: false,\n    item: '',\n    callback: () => {},\n  },\n  setConfirmationModal: () => {},\n});\n\nexport default ConfirmationContext;\n","import API from '../../api';\nimport { SITES } from '../../api/endpoints';\n\nexport async function getSites() {\n  const api = new API();\n  return api.get(SITES).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function getSite(id) {\n  const api = new API();\n  return api.get(SITES, id).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function addSite(site) {\n  const api = new API();\n  return api.post(SITES, site).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function addLevel(siteId, level) {\n  const api = new API({\n    headers: { contentType: 'multipart/form-data' },\n  });\n\n  const formData = new FormData();\n\n  formData.append('plan', level.plan);\n  formData.append('name', level.name);\n  formData.append('image', level.image);\n\n  return api.post(`${SITES}/${siteId}/addLevel`, formData).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function deleteLevelFromSite(siteId, levelId) {\n  const api = new API();\n  return api.delete(`${SITES}/${siteId}/addLevel`, levelId).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function addCameraToSite(siteId, camera, level, cameraPoints, floorPlanPoints) {\n  const api = new API();\n  return api\n    .post(`${SITES}/${siteId}/addCamera`, {\n      siteId,\n      camera,\n      level,\n      cameraPoints,\n      floorPlanPoints,\n    })\n    .then(\n      res => res.data,\n      error => {\n        throw error;\n      }\n    );\n}\n\nexport async function updateCameraToSite(siteId, camera, level, cameraPoints, floorPlanPoints) {\n  const api = new API();\n  return api\n    .put(`${SITES}/${siteId}/addCamera`, {\n      siteId,\n      camera,\n      level,\n      cameraPoints,\n      floorPlanPoints,\n    })\n    .then(\n      res => res.data,\n      error => {\n        throw error;\n      }\n    );\n}\n\nexport async function deleteCameraFromLevel(siteId, cameraId, levelId) {\n  const api = new API();\n  return api.delete(`${SITES}/${siteId}/addCamera/${cameraId}`, levelId).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function updateSite(site, id) {\n  const api = new API();\n  return api.put(`${SITES}/${id}`, site).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n\nexport async function deleteSite(id) {\n  const api = new API();\n  return api.delete(SITES, id).then(\n    res => res.data,\n    error => {\n      throw error;\n    }\n  );\n}\n","import React from 'react';\nimport { Card as BsCard, CardBody, CardHeader } from 'reactstrap';\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\n\nconst Card = ({ children, dark, className, bodyClass, actionHandler, header, ...rest }) => (\n  <BsCard className={cn(styles.card, className, (() => dark && styles.dark)())} {...rest}>\n    {header && (\n      <CardHeader className={styles.cardHeader}>\n        {header}\n        {actionHandler}\n      </CardHeader>\n    )}\n    <CardBody className={bodyClass}>{children}</CardBody>\n  </BsCard>\n);\n\nCard.defaultProps = {\n  dark: false,\n  header: undefined,\n  actionHandler: undefined,\n};\n\nexport default Card;\n","import React from 'react';\nimport { Alert, Button, Badge, Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem } from 'reactstrap';\nimport { NavLink } from 'react-router-dom';\n\nimport { AuthContextConsumer } from '../../../modules/auth/authContext';\n\nimport './styles.scss';\nimport { isAdmin, isClient, isGod } from '../../services/role';\nimport SitesContext from '../../modules/sitesContext/context';\n\nconst Navigation = () => {\n  const [collapsed, setCollapsed] = React.useState(false);\n  let user = localStorage.getItem('user') || {};\n  if (user) {\n    user = JSON.parse(user);\n  }\n  const role = user.role || {};\n\n  function renderMainNav(selectedSite) {\n    return (\n      <Nav className=\"mr-auto\" navbar>\n        {isClient() && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/home\" activeClassName=\"link-active\">\n              Site\n            </NavLink>\n          </NavItem>\n        )}\n        {isClient() && selectedSite && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/site\" activeClassName=\"link-active\">\n              {selectedSite.name}\n            </NavLink>\n          </NavItem>\n        )}\n        {isClient() && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/cameras\" activeClassName=\"link-active\">\n              Cameras\n            </NavLink>\n          </NavItem>\n        )}\n        {isClient() && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/explore\" activeClassName=\"link-active\">\n              Explore\n            </NavLink>\n          </NavItem>\n        )}\n        {isClient() && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/analytics\" activeClassName=\"link-active\">\n              Analytics\n            </NavLink>\n          </NavItem>\n        )}\n        {(isGod() || isAdmin()) && (\n          <NavItem className=\"dar-navbar__item\">\n            <NavLink to=\"/console/admin/users\" activeClassName=\"link-active\">\n              Admin\n            </NavLink>\n          </NavItem>\n        )}\n      </Nav>\n    );\n  }\n\n  function renderEmptyNav() {\n    if (isClient()) {\n      return (\n        <Nav className=\"mr-auto\" navbar>\n          <Alert color=\"info\" style={{ marginBottom: '0', padding: '0.45rem 1.25rem 0.3rem' }}>\n            Select a site to move ahead\n          </Alert>\n        </Nav>\n      );\n    }\n\n    return null;\n  }\n\n  return (\n    <div className=\"dar-navbar\">\n      <Navbar className=\"container\" color=\"faded\" expand=\"md\">\n        <NavbarBrand href=\"/\" className=\"mr-auto\">\n          <img className=\"dar-navbar__logo\" src=\"/images/logo-full.png\" alt=\"Darvis\" />\n        </NavbarBrand>\n        <NavbarToggler onClick={() => setCollapsed(!collapsed)} />\n        <Collapse isOpen={collapsed} navbar>\n          <SitesContext.Consumer>\n            {props => {\n              const { selectedSite } = props;\n              return <React.Fragment>{selectedSite ? renderMainNav(selectedSite) : renderEmptyNav()}</React.Fragment>;\n            }}\n          </SitesContext.Consumer>\n\n          <span className=\"info\">\n            Hi &nbsp;\n            <b>\n              {user.name}\n              &nbsp;\n            </b>\n            <Badge style={{ padding: '5px 4px 4px 4px' }} color=\"dark\">\n              {role.name}\n            </Badge>\n          </span>\n          <AuthContextConsumer>\n            {({ logout }) => (\n              <Button outline size=\"sm\" color=\"dark\" type=\"submit\" onClick={() => logout()}>\n                logout\n              </Button>\n            )}\n          </AuthContextConsumer>\n        </Collapse>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default Navigation;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { withRouter } from 'react-router';\n\nimport { getSite } from '../../services/sites';\nimport SitesContext from './context';\nimport ErrorContext from '../error/context';\n\nconst SitesContextContainer = ({ history, children }) => {\n  const errorContext = useContext(ErrorContext);\n  const storageSite = JSON.parse(localStorage.getItem('selectedSite'));\n  const [state, setState] = useState({\n    selectedSite: storageSite,\n    reset: 0,\n    loading: false,\n  });\n\n  useEffect(() => {\n    async function loadSite() {\n      try {\n        setState(s => ({ ...s, loading: true }));\n        const site = await getSite(state.selectedSite._id);\n        setState(s => ({ ...s, selectedSite: site, loading: false }));\n        localStorage.setItem('selectedSite', JSON.stringify(site));\n      } catch (e) {\n        setState(s => ({ ...s, loading: false }));\n        errorContext.setError(e, true);\n      }\n    }\n\n    if (!state.selectedSite) {\n      history.push('/console/home');\n    } else {\n      loadSite();\n    }\n  }, [history, state.reset, errorContext, setState]);\n\n  function reloadSites() {\n    setState({\n      ...state,\n      reset: state.reset + 1,\n    });\n  }\n\n  return (\n    <SitesContext.Provider\n      value={{\n        loading: state.loading,\n        selectedSite: state.selectedSite,\n        selectSite: site => {\n          setState({\n            selectSite: site,\n          });\n          localStorage.setItem('selectedSite', JSON.stringify(site));\n          history.push('/console/site');\n        },\n        reloadSites,\n      }}\n    >\n      {children}\n    </SitesContext.Provider>\n  );\n};\n\nexport default withRouter(SitesContextContainer);\n","import React, { useState } from 'react';\n\nimport { Modal, ModalBody, ModalFooter, Button, Spinner } from 'reactstrap';\n\nimport ConfirmationContext from './context';\n\nconst defaultConfirmationValue = {\n  visible: false,\n  item: undefined,\n  loading: false,\n  callback: () => {},\n};\n\nconst ConfirmationModalContainer = ({ children }) => {\n  const [confirmationModal, setConfirmationModal] = useState(defaultConfirmationValue);\n\n  return (\n    <React.Fragment>\n      <ConfirmationContext.Provider\n        value={{\n          confirmationModal,\n          setConfirmationModal,\n          resetConfirmationModal: () => setConfirmationModal(defaultConfirmationValue),\n          setLoader: loading =>\n            setConfirmationModal({\n              ...confirmationModal,\n              loading,\n            }),\n        }}\n      >\n        {children}\n      </ConfirmationContext.Provider>\n      <Modal\n        style={{ maxWidth: '250px' }}\n        isOpen={confirmationModal.visible}\n        toggle={() => setConfirmationModal({ ...confirmationModal, visible: !confirmationModal.visible })}\n      >\n        <ModalBody>\n          This will delete <b>{`${confirmationModal.item}, `}</b> Are you sure you want to?\n        </ModalBody>\n        <ModalFooter>\n          {confirmationModal.loading ? (\n            <Spinner />\n          ) : (\n            <React.Fragment>\n              <Button color=\"light\" onClick={() => setConfirmationModal(defaultConfirmationValue)}>\n                No\n              </Button>{' '}\n              <Button color=\"danger\" onClick={() => confirmationModal.callback()}>\n                Yes, Delete!!\n              </Button>\n            </React.Fragment>\n          )}\n        </ModalFooter>\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nexport default ConfirmationModalContainer;\n","import React from 'react';\nimport { withRouter } from 'react-router';\n\nimport Navbar from '../molecules/navBar';\nimport SiteContextContainer from '../modules/sitesContext';\nimport ConfirmationModalContainer from '../modules/confirmationModal/container';\n\nconst DashboardTemplate = ({ match, children }) => {\n  function wrapSiteContext(callback) {\n    if (match.path.includes('admin')) {\n      return callback();\n    }\n    return <SiteContextContainer>{callback()}</SiteContextContainer>;\n  }\n  return (\n    <ConfirmationModalContainer>\n      {wrapSiteContext(() => (\n        <React.Fragment>\n          <Navbar />\n          <div className=\"container camera-system\" style={{ marginBottom: '30px' }}>\n            {children}\n          </div>\n        </React.Fragment>\n      ))}\n    </ConfirmationModalContainer>\n  );\n};\n\nexport default withRouter(DashboardTemplate);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"styles_card__29RG3\",\"dark\":\"styles_dark__3DC7d\",\"online-status\":\"styles_online-status__R070A\",\"cardHeader\":\"styles_cardHeader__10E2K\"};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes;\nCardHeader.defaultProps = defaultProps;\nexport default CardHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"innerRef\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import React, { useContext } from 'react';\nimport { Table, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport SitesContext from '../../shared/modules/sitesContext/context';\nimport ConfirmationContext from '../../shared/modules/confirmationModal/context';\n\nconst SitesPage = ({ sites, editAction, deleteSite }) => {\n  const siteContext = useContext(SitesContext);\n  const { selectedSite, selectSite } = siteContext;\n\n  if (sites && sites.length) {\n    return (\n      <Table borderless responsive>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Name</th>\n            <th>User</th>\n            <th>Organization</th>\n            <th>Created</th>\n          </tr>\n        </thead>\n        <tbody>\n          {sites.map((site, i) => {\n            const isSelected = !selectedSite ? false : selectedSite._id === site._id;\n\n            return (\n              <tr key={site._id}>\n                <th scope=\"row\">{i + 1}</th>\n                <td>{site.name}</td>\n                <td>{site.user && site.user.email}</td>\n                <td>{site.organization && site.organization.name}</td>\n                <td>{site.created && new Date(site.created).toDateString()}</td>\n\n                <td>\n                  {!isSelected && (\n                    <React.Fragment>\n                      <Button size=\"sm\" onClick={() => editAction(site)}>\n                        <FontAwesomeIcon icon=\"edit\" />\n                      </Button>\n                      &nbsp;\n                      <ConfirmationContext.Consumer>\n                        {({ setConfirmationModal, resetConfirmationModal, setLoader }) => (\n                          <Button\n                            size=\"sm\"\n                            onClick={() =>\n                              setConfirmationModal(s => ({\n                                ...s,\n                                visible: true,\n                                item: site.name,\n                                callback: () => {\n                                  setLoader(true);\n                                  deleteSite(site._id, () => resetConfirmationModal(), () => setLoader(false));\n                                },\n                              }))\n                            }\n                            color=\"danger\"\n                          >\n                            <FontAwesomeIcon icon=\"trash\" />\n                          </Button>\n                        )}\n                      </ConfirmationContext.Consumer>\n                      &nbsp;\n                    </React.Fragment>\n                  )}\n                  {!isSelected && (\n                    <Button size=\"sm\" disabled={isSelected} color=\"success\" onClick={() => selectSite(site)}>\n                      Select &nbsp;\n                    </Button>\n                  )}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    );\n  }\n\n  return <div>No Sites found</div>;\n};\n\nexport default SitesPage;\n","import React from 'react';\nimport { Formik, Field, ErrorMessage } from 'formik';\nimport {\n  Row,\n  Col,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Button,\n  ModalFooter,\n  ModalBody,\n  FormFeedback,\n  Spinner,\n} from 'reactstrap';\nimport * as Yup from 'yup';\n\nimport Logger from '../../shared/modules/logger';\n\nconst siteValidationSchema = {\n  name: Yup.string()\n    .min(3, 'Min 3 Characters!!')\n    .max(50, 'Max 50 allowed')\n    .required('Name Required'),\n  organization: Yup.string().required('Organization not found'),\n  user: Yup.string().required('User not found'),\n};\n\nconst siteSchema = Yup.object().shape(siteValidationSchema);\n\nconst AddEditSite = ({ initialValues, addSite, updateSite }) => {\n  const [isLoading, setIsLoading] = React.useState(false);\n  let user = JSON.parse(localStorage.getItem('user'));\n\n  if (!user) {\n    user = {};\n  }\n\n  const initializeForm = {\n    name: initialValues.name || '',\n    organization: user.organization ? user.organization._id : '',\n    user: user._id,\n  };\n\n  return (\n    <Formik\n      initialValues={initializeForm}\n      validationSchema={siteSchema}\n      onSubmit={(values, actions) => {\n        const callback = () => {\n          actions.setSubmitting(false);\n          setIsLoading(false);\n        };\n        setIsLoading(true);\n        if (initialValues._id) {\n          updateSite(values, initialValues._id, () => callback(), () => callback());\n        } else {\n          addSite(values, () => callback(), () => callback());\n        }\n      }}\n    >\n      {props => {\n        const { values, isValid, isDirty, errors, handleSubmit, handleChange, handleBlur, isSubmitting } = props;\n\n        return (\n          <Form onSubmit={handleSubmit}>\n            <ModalBody>\n              <Row>\n                <Col>\n                  <b>User</b>: &nbsp; {user.name}\n                </Col>\n                <Col>\n                  <b>Organization</b>: &nbsp; {user && !!user.organization && user.organization.name}\n                </Col>\n              </Row>\n              <br />\n              <Row>\n                <Col>\n                  <FormGroup>\n                    <Label for=\"name\">Name</Label>\n                    <Input\n                      invalid={!!errors.name}\n                      id=\"name\"\n                      tag={Field}\n                      name=\"name\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.name}\n                    />\n                    <ErrorMessage name=\"name\" component=\"div\">\n                      {errorMessage => <FormFeedback>{errorMessage}</FormFeedback>}\n                    </ErrorMessage>\n                  </FormGroup>\n                </Col>\n              </Row>\n            </ModalBody>\n            <ModalFooter>\n              {isLoading ? (\n                <Spinner />\n              ) : (\n                <Button type=\"submit\" color=\"primary\" size=\"sm\" disabled={isSubmitting || !isValid || !!isDirty}>\n                  {initialValues._id ? 'Update' : 'Add'} Site\n                </Button>\n              )}\n            </ModalFooter>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nAddEditSite.defaultProps = {\n  initialValues: {},\n  addSite: license => Logger.info(license),\n  updateSite: license => Logger.info(license),\n};\n\nexport default AddEditSite;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { Row, Col, Button, ModalHeader, Modal } from 'reactstrap';\n\nimport Card from '../../shared/molecules/card';\nimport DashboardTemplate from '../../shared/templates/dashboardTemplate';\nimport ErrorContext from '../../shared/modules/error/context';\nimport SitesPage from './sitesPage';\nimport AddEditSite from './addEdit';\n\nimport { getSites, addSite, updateSite, deleteSite } from '../../shared/services/sites';\n\nconst Home = () => {\n  const [state, setState] = useState({\n    sites: [],\n    reset: 0,\n    isLoading: false,\n  });\n  const [modalState, setModalState] = useState({\n    visible: false,\n    site: undefined,\n  });\n  const [reload, setReload] = useState(0);\n  const { setError } = useContext(ErrorContext);\n\n  useEffect(() => {\n    async function fetchAllSites() {\n      setState(s => ({ ...s, isLoading: true }));\n      try {\n        const sites = await getSites();\n        setState(s => ({ ...s, sites, isLoading: false }));\n      } catch (e) {\n        setError(e, true);\n        setState(s => ({ ...s, isLoading: false }));\n      }\n    }\n\n    fetchAllSites();\n  }, [setError, reload]);\n\n  const add = async (site, callback, errorCallback) => {\n    try {\n      await addSite(site);\n      if (callback) {\n        callback();\n      }\n      setReload(reload + 1);\n      setModalState({ visible: false, site: undefined });\n    } catch (e) {\n      if (errorCallback) {\n        errorCallback(e);\n      }\n      setError(e, true);\n    }\n  };\n\n  const update = async (site, id, callback, errorCallback) => {\n    try {\n      await updateSite(site, id);\n      if (callback) {\n        callback();\n      }\n      setReload(reload + 1);\n      setModalState({ visible: false, site: undefined });\n    } catch (e) {\n      if (errorCallback) {\n        errorCallback(e);\n      }\n      setError(e, true);\n    }\n  };\n\n  const remove = async (id, callback, errorCallback) => {\n    try {\n      await deleteSite(id);\n      if (callback) {\n        callback();\n      }\n      setReload(reload + 1);\n    } catch (e) {\n      if (errorCallback) {\n        errorCallback(e);\n      }\n      setError(e, true);\n    }\n  };\n\n  const toggleModal = () =>\n    setModalState({\n      ...modalState,\n      visible: !modalState.visible,\n      site: undefined,\n    });\n\n  const renderAction = () => {\n    return (\n      <Button size=\"sm\" color=\"primary\" className=\"float-right\" onClick={toggleModal}>\n        Add Site\n      </Button>\n    );\n  };\n\n  return (\n    <DashboardTemplate>\n      <Row>\n        <Col>\n          <Card header=\"Sites\" actionHandler={renderAction()}>\n            {state.isLoading ? (\n              <span>Loading...</span>\n            ) : (\n              <SitesPage\n                sites={state.sites}\n                editAction={site => {\n                  setModalState({\n                    ...modalState,\n                    visible: true,\n                    site,\n                  });\n                }}\n                deleteSite={remove}\n              />\n            )}\n          </Card>\n        </Col>\n      </Row>\n      <Modal isOpen={modalState.visible} toggle={toggleModal} style={{ maxWidth: '650px' }}>\n        <ModalHeader toggle={toggleModal}>{modalState.site && modalState.site._id ? 'Edit' : 'Add'} Site</ModalHeader>\n        <AddEditSite initialValues={modalState.site} addSite={add} updateSite={update} />\n      </Modal>\n    </DashboardTemplate>\n  );\n};\n\nexport default Home;\n"],"sourceRoot":""}