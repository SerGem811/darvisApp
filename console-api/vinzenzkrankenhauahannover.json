{
  "dataworldId": "742f67f0-ea83-11e9-92a9-2b8422fb996e",
  "dataworldName": "vinzenzkrankenhauahannover",
  "owner": "5d9d97e8e3a0f929d0952f5a",
  "createdOn": "2019-10-09T10:56:32.236Z",
  "viewers": [],
  "dataSources": {
    "name": "vinzenzkrankenhauahannover",
    "ai": {
      "version": 1,
      "containerUrl": null,
      "classes": [
        {
          "classId": 1,
          "className": "dirty_bed",
          "attributes": [],
          "states": [
            "fixed",
            "moving"
          ]
        },
        {
          "classId": 2,
          "className": "clean_bed",
          "attributes": [],
          "states": [
            "fixed",
            "moving"
          ]
        },
        {
          "classId": 3,
          "className": "occupied_bed",
          "attributes": [],
          "states": [
            "fixed",
            "moving"
          ]
        }
      ]
    },
    "data": [
      {
        "src": "id",
        "dst": "id",
        "use": true,
        "fieldType": "string"
      },
      {
        "src": "camera_id",
        "dst": "camera_id",
        "use": true,
        "fieldType": "string"
      },
      {
        "src": "camera_name",
        "dst": "camera_name",
        "use": true,
        "fieldType": "string"
      },
      {
        "src": "frame_timestamp",
        "dst": "frame_timestamp",
        "use": true,
        "fieldType": "string"
      },
      {
        "src": "object_type",
        "dst": "object_type",
        "use": true,
        "fieldType": "string"
      },
      {
        "src": "loc_x",
        "dst": "loc_x",
        "use": true,
        "fieldType": "float"
      },
      {
        "src": "loc_y",
        "dst": "loc_y",
        "use": true,
        "fieldType": "float"
      }
    ],
    "levels": [
      {
        "levelId": "ab1b7c50-ea96-11e9-a597-cb91a86cce1e",
        "cameras": [
          {
            "number": 1,
            "cameraType": "perspective",
            "name": "cam3.1",
            "url": "/data/camera_34.mp4",
            "enabled": true,
            "user": "root",
            "pass": "root",
            "homography": [
              2.4369573333024213,
              14.842356987104168,
              0.17534996804623296,
              1.5353136276445725,
              17.41135244230595,
              -0.5608043110417972,
              2.022198136935532,
              30.274695879025934,
              1
            ],
            "src_points": {
              "p1x": 0.2467509025270758,
              "p1y": 0.3642570281124498,
              "p2x": 0.4620938628158845,
              "p2y": 0.3200803212851406,
              "p3x": 0.7454873646209387,
              "p3y": 0.7128514056224899,
              "p4x": 0.28104693140794224,
              "p4y": 0.8955823293172691
            },
            "dst_points": {
              "p1x": 0.4935920577617328,
              "p1y": 0.49176706827309236,
              "p2x": 0.5206291903042806,
              "p2y": 0.4921973608720597,
              "p3x": 0.5219198445235834,
              "p3y": 0.5394795463971018,
              "p4x": 0.49344163658243073,
              "p4y": 0.5391566265060241
            },
            "ai_roi": {}
          }
        ]
      },
      {
        "levelId": "eca59000-eb38-11e9-b30a-4f86195e4f79",
        "cameras": []
      },
      {
        "levelId": "c8e7b120-eb4c-11e9-9b74-afa8adc13e4d",
        "cameras": []
      }
    ]
  },
  "dataObjects": [
    {
      "objectId": "742f67f1-ea83-11e9-92a9-2b8422fb996e",
      "objType": "building",
      "levels": 3,
      "levelDetails": [
        {
          "name": "Level3",
          "level": 1,
          "plan": "\\uploads\\1570626844725-level_4.JPG",
          "zones": [
            {
              "name": "zone1",
              "p1x": 0.4920724782057162,
              "p1y": 0.6413401031260612,
              "p2x": 0.5167731629392971,
              "p2y": 0.6423694779116466,
              "p3x": 0.5191693290734825,
              "p3y": 0.7088353413654619,
              "p4x": 0.4916932907348242,
              "p4y": 0.7098393574297188
            },
            {
              "name": "zone2",
              "p1x": 0.5673875645121651,
              "p1y": 0.4723818350324374,
              "p2x": 0.589948390267879,
              "p2y": 0.4729996910719802,
              "p3x": 0.5894568690095847,
              "p3y": 0.4950571516836577,
              "p4x": 0.5678790857704595,
              "p4y": 0.4956750077232005
            }
          ]
        },
        {
          "name": "Level4",
          "level": 2,
          "plan": "\\uploads\\1570696533119-level_4.JPG",
          "zones": [
            {
              "name": "zone4.1",
              "p1x": 0.3,
              "p1y": 0.3,
              "p2x": 0.5,
              "p2y": 0.3,
              "p3x": 0.5,
              "p3y": 0.5,
              "p4x": 0.3,
              "p4y": 0.5
            }
          ]
        },
        {
          "name": "Media Center",
          "level": 3,
          "plan": "\\uploads\\1570705063208-Gradient Map 1.png",
          "zones": []
        }
      ]
    },
    {
      "objectId": "742f67f2-ea83-11e9-92a9-2b8422fb996e",
      "objType": "datapoint",
      "objParent": "5d9dbce0dbc8221ddc558a7f",
      "objPositioning": "inOtherObject",
      "refreshData": true,
      "floorUrls": [],
      "name": "beds",
      "mappings": [
        {
          "src": "vinzenzkrankenhauahannover.id",
          "dst": "instance"
        },
        {
          "src": "vinzenzkrankenhauahannover.loc_x",
          "dst": "loc_x"
        },
        {
          "src": "vinzenzkrankenhauahannover.loc_y",
          "dst": "loc_y"
        },
        {
          "src": "vinzenzkrankenhauahannover.camera_id",
          "dst": "camera_id"
        },
        {
          "src": "vinzenzkrankenhauahannover.camera_name",
          "dst": "camera_name"
        },
        {
          "src": "vinzenzkrankenhauahannover.frame_timestamp",
          "dst": "timestamp"
        },
        {
          "src": "vinzenzkrankenhauahannover.lasttime",
          "dst": "lasttime"
        },
        {
          "src": "vinzenzkrankenhauahannover.object_type",
          "dst": "target"
        },
        {
          "src": "vinzenzkrankenhauahannover.[lookup_levels]",
          "dst": "level"
        }
      ]
    },
    {
      "objectId": "742f67f2-ea83-11e9-92a9-2b8422fb996e",
      "objType": "kpi",
      "kpis": [
        {
          "name": "peak bed wait on 3A",
          "kpiType": "max_dur",
          "objects": [
            "beds"
          ],
          "conditions": [
            {
              "conditionType": "eq",
              "object": [
                "vinzenzkrankenhauahannover.object_type"
              ],
              "zone": "zone_3A",
              "operator": "=",
              "value": "dirty bed"
            }
          ],
          "zone": "zone_3A",
          "events": [
            {
              "event": "state_change",
              "state": "fixed"
            },
            {
              "event": "sate_change",
              "state": "moving"
            }
          ]
        },
        {
          "name": "Average beds per zone",
          "kpiType": "avg_dur",
          "objects": [
            "beds"
          ],
          "zone": "all",
          "events": [
            {
              "event": "enter",
              "state": "fixed"
            },
            {
              "event": "leave",
              "state": "fixed"
            }
          ]
        }
      ]
    },
    {
      "objectId": "eda82b6a-6607-4830-be50-3fb2d174975e",
      "objType": "trigger",
      "triggers": [
        {
          "name": "call_bed_transport",
          "conditions": [
            {
              "conditionType": "dur_diff",
              "object": [
                "vinzenzkrankenhauahannover.lasttime",
                "vinzenzkrankenhauahannover.frame_timestamp"
              ],
              "zone": "all",
              "operator": ">=",
              "value": 180
            },
            {
              "conditionType": "eq",
              "object": [
                "vinzenzkrankenhauahannover.object_type"
              ],
              "zone": "all",
              "operator": "=",
              "value": "dirty bed"
            }
          ],
          "action": {
            "type": "json",
            "receipient": "app.bed_transport",
            "body": {
              "zone": "zone",
              "action": "pickup",
              "data": {
                "camera": "vinzenzkrankenhauahannover.camera_id",
                "camera_id": "vinzenzkrankenhauahannover.camera_name",
                "timestamp": "vinzenzkrankenhauahannover.frame_timestamp",
                "level": "level"
              }
            }
          }
        }
      ]
    }
  ],
  "lookups": [],
  "localTimezone": "CET"
}